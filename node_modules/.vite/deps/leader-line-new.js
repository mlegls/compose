import {
  __commonJS
} from "./chunk-RSJERJUL.js";

// node_modules/leader-line-new/leader-line.min.js
var require_leader_line_min = __commonJS({
  "node_modules/leader-line-new/leader-line.min.js"(exports, module) {
    var LeaderLine = function() {
      "use strict";
      var te, M, I, C, L, o, t, h, f, p, n, a, e, x, b, l, r, i, k, w, s, u, c, A = "leader-line", V = 1, P = 2, N = 3, T = 4, W = { top: V, right: P, bottom: N, left: T }, B = 1, R = 2, F = 3, G = 4, D = 5, z = { straight: B, arc: R, fluid: F, magnet: G, grid: D }, ne = "behind", d = A + "-defs", y = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>', ae = { disc: { elmId: "leader-line-disc", noRotate: true, bBox: { left: -5, top: -5, width: 10, height: 10, right: 5, bottom: 5 }, widthR: 2.5, heightR: 2.5, bCircle: 5, sideLen: 5, backLen: 5, overhead: 0, outlineBase: 1, outlineMax: 4 }, square: { elmId: "leader-line-square", noRotate: true, bBox: { left: -5, top: -5, width: 10, height: 10, right: 5, bottom: 5 }, widthR: 2.5, heightR: 2.5, bCircle: 5, sideLen: 5, backLen: 5, overhead: 0, outlineBase: 1, outlineMax: 4 }, arrow1: { elmId: "leader-line-arrow1", bBox: { left: -8, top: -8, width: 16, height: 16, right: 8, bottom: 8 }, widthR: 4, heightR: 4, bCircle: 8, sideLen: 8, backLen: 8, overhead: 8, outlineBase: 2, outlineMax: 1.5 }, arrow2: { elmId: "leader-line-arrow2", bBox: { left: -7, top: -8, width: 11, height: 16, right: 4, bottom: 8 }, widthR: 2.75, heightR: 4, bCircle: 8, sideLen: 8, backLen: 7, overhead: 4, outlineBase: 1, outlineMax: 1.75 }, arrow3: { elmId: "leader-line-arrow3", bBox: { left: -4, top: -5, width: 12, height: 10, right: 8, bottom: 5 }, widthR: 3, heightR: 2.5, bCircle: 8, sideLen: 5, backLen: 4, overhead: 8, outlineBase: 1, outlineMax: 2.5 }, hand: { elmId: "leader-line-hand", bBox: { left: -3, top: -12, width: 40, height: 24, right: 37, bottom: 12 }, widthR: 10, heightR: 6, bCircle: 37, sideLen: 12, backLen: 3, overhead: 37 }, crosshair: { elmId: "leader-line-crosshair", noRotate: true, bBox: { left: -96, top: -96, width: 192, height: 192, right: 96, bottom: 96 }, widthR: 48, heightR: 48, bCircle: 96, sideLen: 96, backLen: 96, overhead: 0 } }, j = { behind: ne, disc: "disc", square: "square", arrow1: "arrow1", arrow2: "arrow2", arrow3: "arrow3", hand: "hand", crosshair: "crosshair" }, ie = { disc: "disc", square: "square", arrow1: "arrow1", arrow2: "arrow2", arrow3: "arrow3", hand: "hand", crosshair: "crosshair" }, H = [V, P, N, T], U = "auto", oe = { x: "left", y: "top", width: "width", height: "height" }, Z = 80, Y = 4, X = 5, q = 120, Q = 8, K = 3.75, J = 10, $ = 30, ee = 0.5522847, le = 0.25 * Math.PI, m = /^\s*(\-?[\d\.]+)\s*(\%)?\s*$/, re = "http://www.w3.org/2000/svg", S = "-ms-scroll-limit" in document.documentElement.style && "-ms-ime-align" in document.documentElement.style && !window.navigator.msPointerEnabled, se = !S && !!document.uniqueID, ue = "MozAppearance" in document.documentElement.style, he = !(S || ue || !window.chrome || !window.CSS), pe = !S && !se && !ue && !he && !window.chrome && "WebkitAppearance" in document.documentElement.style, ce = se || S ? 0.2 : 0.1, de = { path: F, lineColor: "coral", lineSize: 4, plugSE: [ne, "arrow1"], plugSizeSE: [1, 1], lineOutlineEnabled: false, lineOutlineColor: "indianred", lineOutlineSize: 0.25, plugOutlineEnabledSE: [false, false], plugOutlineSizeSE: [1, 1] }, fe = (s = {}.toString, u = {}.hasOwnProperty.toString, c = u.call(Object), function(e2) {
        var t2, n2;
        return e2 && "[object Object]" === s.call(e2) && (!(t2 = Object.getPrototypeOf(e2)) || (n2 = t2.hasOwnProperty("constructor") && t2.constructor) && "function" == typeof n2 && u.call(n2) === c);
      }), ye = Number.isFinite || function(e2) {
        return "number" == typeof e2 && window.isFinite(e2);
      }, g = (x = { ease: [0.25, 0.1, 0.25, 1], linear: [0, 0, 1, 1], "ease-in": [0.42, 0, 1, 1], "ease-out": [0, 0, 0.58, 1], "ease-in-out": [0.42, 0, 0.58, 1] }, b = 1e3 / 60 / 2, l = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function(e2) {
        setTimeout(e2, b);
      }, r = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function(e2) {
        clearTimeout(e2);
      }, i = Number.isFinite || function(e2) {
        return "number" == typeof e2 && window.isFinite(e2);
      }, k = [], w = 0, { add: function(n2, e2, t2, a2, i2, o2, l2) {
        var r2, s2, u2, h2, p2, c2, d2, f2, y2, m2, S2, g2, _2, v2 = ++w;
        function E2(e3, t3) {
          return { value: n2(t3), timeRatio: e3, outputRatio: t3 };
        }
        if ("string" == typeof i2 && (i2 = x[i2]), n2 = n2 || function() {
        }, t2 < b)
          s2 = [E2(0, 0), E2(1, 1)];
        else {
          if (u2 = b / t2, s2 = [E2(0, 0)], 0 === i2[0] && 0 === i2[1] && 1 === i2[2] && 1 === i2[3])
            for (p2 = u2; p2 <= 1; p2 += u2)
              s2.push(E2(p2, p2));
          else
            for (c2 = h2 = (p2 = u2) / 10; c2 <= 1; c2 += h2)
              _2 = g2 = S2 = m2 = y2 = void 0, m2 = (y2 = (f2 = c2) * f2) * f2, _2 = 3 * (S2 = 1 - f2) * y2, p2 <= (d2 = { x: (g2 = S2 * S2 * 3 * f2) * i2[0] + _2 * i2[2] + m2, y: g2 * i2[1] + _2 * i2[3] + m2 }).x && (s2.push(E2(d2.x, d2.y)), p2 += u2);
          s2.push(E2(1, 1));
        }
        return r2 = { animId: v2, frameCallback: e2, duration: t2, count: a2, frames: s2, reverse: !!o2 }, k.push(r2), false !== l2 && ke(r2, l2), v2;
      }, remove: function(n2) {
        var a2;
        k.some(function(e2, t2) {
          return e2.animId === n2 && (a2 = t2, !(e2.framesStart = null));
        }) && k.splice(a2, 1);
      }, start: function(t2, n2, a2) {
        k.some(function(e2) {
          return e2.animId === t2 && (e2.reverse = !!n2, ke(e2, a2), true);
        });
      }, stop: function(t2, n2) {
        var a2;
        return k.some(function(e2) {
          return e2.animId === t2 && (n2 ? null != e2.lastFrame && (a2 = e2.frames[e2.lastFrame].timeRatio) : (a2 = (Date.now() - e2.framesStart) / e2.duration, e2.reverse && (a2 = 1 - a2), a2 < 0 ? a2 = 0 : 1 < a2 && (a2 = 1)), !(e2.framesStart = null));
        }), a2;
      }, validTiming: function(t2) {
        return "string" == typeof t2 ? x[t2] : Array.isArray(t2) && [0, 1, 2, 3].every(function(e2) {
          return i(t2[e2]) && 0 <= t2[e2] && t2[e2] <= 1;
        }) ? [t2[0], t2[1], t2[2], t2[3]] : null;
      } }), _ = function(e2) {
        e2.SVGPathElement.prototype.getPathData && e2.SVGPathElement.prototype.setPathData || function() {
          function i2(e3) {
            this._string = e3, this._currentIndex = 0, this._endIndex = this._string.length, this._prevCommand = null, this._skipOptionalSpaces();
          }
          var o2 = { Z: "Z", M: "M", L: "L", C: "C", Q: "Q", A: "A", H: "H", V: "V", S: "S", T: "T", z: "Z", m: "m", l: "l", c: "c", q: "q", a: "a", h: "h", v: "v", s: "s", t: "t" }, l2 = -1 !== e2.navigator.userAgent.indexOf("MSIE ");
          i2.prototype = { parseSegment: function() {
            var e3 = this._string[this._currentIndex], t2 = o2[e3] ? o2[e3] : null;
            if (null === t2) {
              if (null === this._prevCommand)
                return null;
              if (null === (t2 = ("+" === e3 || "-" === e3 || "." === e3 || "0" <= e3 && e3 <= "9") && "Z" !== this._prevCommand ? "M" === this._prevCommand ? "L" : "m" === this._prevCommand ? "l" : this._prevCommand : null))
                return null;
            } else
              this._currentIndex += 1;
            var n3 = null, a3 = (this._prevCommand = t2).toUpperCase();
            return "H" === a3 || "V" === a3 ? n3 = [this._parseNumber()] : "M" === a3 || "L" === a3 || "T" === a3 ? n3 = [this._parseNumber(), this._parseNumber()] : "S" === a3 || "Q" === a3 ? n3 = [this._parseNumber(), this._parseNumber(), this._parseNumber(), this._parseNumber()] : "C" === a3 ? n3 = [this._parseNumber(), this._parseNumber(), this._parseNumber(), this._parseNumber(), this._parseNumber(), this._parseNumber()] : "A" === a3 ? n3 = [this._parseNumber(), this._parseNumber(), this._parseNumber(), this._parseArcFlag(), this._parseArcFlag(), this._parseNumber(), this._parseNumber()] : "Z" === a3 && (this._skipOptionalSpaces(), n3 = []), null === n3 || 0 <= n3.indexOf(null) ? null : { type: t2, values: n3 };
          }, hasMoreData: function() {
            return this._currentIndex < this._endIndex;
          }, peekSegmentType: function() {
            var e3 = this._string[this._currentIndex];
            return o2[e3] ? o2[e3] : null;
          }, initialCommandIsMoveTo: function() {
            if (!this.hasMoreData())
              return true;
            var e3 = this.peekSegmentType();
            return "M" === e3 || "m" === e3;
          }, _isCurrentSpace: function() {
            var e3 = this._string[this._currentIndex];
            return e3 <= " " && (" " === e3 || "\n" === e3 || "	" === e3 || "\r" === e3 || "\f" === e3);
          }, _skipOptionalSpaces: function() {
            for (; this._currentIndex < this._endIndex && this._isCurrentSpace(); )
              this._currentIndex += 1;
            return this._currentIndex < this._endIndex;
          }, _skipOptionalSpacesOrDelimiter: function() {
            return !(this._currentIndex < this._endIndex && !this._isCurrentSpace() && "," !== this._string[this._currentIndex]) && (this._skipOptionalSpaces() && this._currentIndex < this._endIndex && "," === this._string[this._currentIndex] && (this._currentIndex += 1, this._skipOptionalSpaces()), this._currentIndex < this._endIndex);
          }, _parseNumber: function() {
            var e3 = 0, t2 = 0, n3 = 1, a3 = 0, i3 = 1, o3 = 1, l3 = this._currentIndex;
            if (this._skipOptionalSpaces(), this._currentIndex < this._endIndex && "+" === this._string[this._currentIndex] ? this._currentIndex += 1 : this._currentIndex < this._endIndex && "-" === this._string[this._currentIndex] && (this._currentIndex += 1, i3 = -1), this._currentIndex === this._endIndex || (this._string[this._currentIndex] < "0" || "9" < this._string[this._currentIndex]) && "." !== this._string[this._currentIndex])
              return null;
            for (var r3 = this._currentIndex; this._currentIndex < this._endIndex && "0" <= this._string[this._currentIndex] && this._string[this._currentIndex] <= "9"; )
              this._currentIndex += 1;
            if (this._currentIndex !== r3)
              for (var s3 = this._currentIndex - 1, u2 = 1; r3 <= s3; )
                t2 += u2 * (this._string[s3] - "0"), --s3, u2 *= 10;
            if (this._currentIndex < this._endIndex && "." === this._string[this._currentIndex]) {
              if (this._currentIndex += 1, this._currentIndex >= this._endIndex || this._string[this._currentIndex] < "0" || "9" < this._string[this._currentIndex])
                return null;
              for (; this._currentIndex < this._endIndex && "0" <= this._string[this._currentIndex] && this._string[this._currentIndex] <= "9"; )
                n3 *= 10, a3 += (this._string.charAt(this._currentIndex) - "0") / n3, this._currentIndex += 1;
            }
            if (this._currentIndex !== l3 && this._currentIndex + 1 < this._endIndex && ("e" === this._string[this._currentIndex] || "E" === this._string[this._currentIndex]) && "x" !== this._string[this._currentIndex + 1] && "m" !== this._string[this._currentIndex + 1]) {
              if (this._currentIndex += 1, "+" === this._string[this._currentIndex] ? this._currentIndex += 1 : "-" === this._string[this._currentIndex] && (this._currentIndex += 1, o3 = -1), this._currentIndex >= this._endIndex || this._string[this._currentIndex] < "0" || "9" < this._string[this._currentIndex])
                return null;
              for (; this._currentIndex < this._endIndex && "0" <= this._string[this._currentIndex] && this._string[this._currentIndex] <= "9"; )
                e3 *= 10, e3 += this._string[this._currentIndex] - "0", this._currentIndex += 1;
            }
            var h2 = t2 + a3;
            return h2 *= i3, e3 && (h2 *= Math.pow(10, o3 * e3)), l3 === this._currentIndex ? null : (this._skipOptionalSpacesOrDelimiter(), h2);
          }, _parseArcFlag: function() {
            if (this._currentIndex >= this._endIndex)
              return null;
            var e3 = null, t2 = this._string[this._currentIndex];
            if (this._currentIndex += 1, "0" === t2)
              e3 = 0;
            else {
              if ("1" !== t2)
                return null;
              e3 = 1;
            }
            return this._skipOptionalSpacesOrDelimiter(), e3;
          } };
          function a2(e3) {
            if (!e3 || 0 === e3.length)
              return [];
            var t2 = new i2(e3), n3 = [];
            if (t2.initialCommandIsMoveTo())
              for (; t2.hasMoreData(); ) {
                var a3 = t2.parseSegment();
                if (null === a3)
                  break;
                n3.push(a3);
              }
            return n3;
          }
          function r2(e3) {
            return e3.map(function(e4) {
              return { type: e4.type, values: Array.prototype.slice.call(e4.values) };
            });
          }
          function d2(e3) {
            var m2 = [], S2 = null, g2 = null, _2 = null, v2 = null, E2 = null, x2 = null, b2 = null;
            return e3.forEach(function(e4) {
              var t2, n3, a3, i3, o3, l3, r3, s3, u2, h2, p2, c2, d3, f3, y3;
              "M" === e4.type ? (f3 = e4.values[0], y3 = e4.values[1], m2.push({ type: "M", values: [f3, y3] }), v2 = x2 = f3, E2 = b2 = y3) : "C" === e4.type ? (a3 = e4.values[0], i3 = e4.values[1], t2 = e4.values[2], n3 = e4.values[3], f3 = e4.values[4], y3 = e4.values[5], m2.push({ type: "C", values: [a3, i3, t2, n3, f3, y3] }), g2 = t2, _2 = n3, v2 = f3, E2 = y3) : "L" === e4.type ? (f3 = e4.values[0], y3 = e4.values[1], m2.push({ type: "L", values: [f3, y3] }), v2 = f3, E2 = y3) : "H" === e4.type ? (f3 = e4.values[0], m2.push({ type: "L", values: [f3, E2] }), v2 = f3) : "V" === e4.type ? (y3 = e4.values[0], m2.push({ type: "L", values: [v2, y3] }), E2 = y3) : "S" === e4.type ? (t2 = e4.values[0], n3 = e4.values[1], f3 = e4.values[2], y3 = e4.values[3], l3 = "C" === S2 || "S" === S2 ? (o3 = v2 + (v2 - g2), E2 + (E2 - _2)) : (o3 = v2, E2), m2.push({ type: "C", values: [o3, l3, t2, n3, f3, y3] }), g2 = t2, _2 = n3, v2 = f3, E2 = y3) : "T" === e4.type ? (f3 = e4.values[0], y3 = e4.values[1], i3 = "Q" === S2 || "T" === S2 ? (a3 = v2 + (v2 - g2), E2 + (E2 - _2)) : (a3 = v2, E2), o3 = v2 + 2 * (a3 - v2) / 3, l3 = E2 + 2 * (i3 - E2) / 3, r3 = f3 + 2 * (a3 - f3) / 3, s3 = y3 + 2 * (i3 - y3) / 3, m2.push({ type: "C", values: [o3, l3, r3, s3, f3, y3] }), g2 = a3, _2 = i3, v2 = f3, E2 = y3) : "Q" === e4.type ? (a3 = e4.values[0], i3 = e4.values[1], f3 = e4.values[2], y3 = e4.values[3], o3 = v2 + 2 * (a3 - v2) / 3, l3 = E2 + 2 * (i3 - E2) / 3, r3 = f3 + 2 * (a3 - f3) / 3, s3 = y3 + 2 * (i3 - y3) / 3, m2.push({ type: "C", values: [o3, l3, r3, s3, f3, y3] }), g2 = a3, _2 = i3, v2 = f3, E2 = y3) : "A" === e4.type ? (u2 = e4.values[0], h2 = e4.values[1], p2 = e4.values[2], c2 = e4.values[3], d3 = e4.values[4], f3 = e4.values[5], y3 = e4.values[6], 0 === u2 || 0 === h2 ? (m2.push({ type: "C", values: [v2, E2, f3, y3, f3, y3] }), v2 = f3, E2 = y3) : v2 === f3 && E2 === y3 || U2(v2, E2, f3, y3, u2, h2, p2, c2, d3).forEach(function(e5) {
                m2.push({ type: "C", values: e5 }), v2 = f3, E2 = y3;
              })) : "Z" === e4.type && (m2.push(e4), v2 = x2, E2 = b2), S2 = e4.type;
            }), m2;
          }
          var n2 = e2.SVGPathElement.prototype.setAttribute, s2 = e2.SVGPathElement.prototype.removeAttribute, f2 = e2.Symbol ? e2.Symbol() : "__cachedPathData", y2 = e2.Symbol ? e2.Symbol() : "__cachedNormalizedPathData", U2 = function(e3, t2, n3, a3, i3, o3, l3, r3, s3, u2) {
            function h2(e4, t3, n4) {
              return { x: e4 * Math.cos(n4) - t3 * Math.sin(n4), y: e4 * Math.sin(n4) + t3 * Math.cos(n4) };
            }
            var p2, c2, d3, f3, y3, m2, S2, g2, _2, v2, E2, x2, b2, k2, w2, O2 = (p2 = l3, Math.PI * p2 / 180), M2 = [];
            u2 ? (k2 = u2[0], w2 = u2[1], x2 = u2[2], b2 = u2[3]) : (e3 = (c2 = h2(e3, t2, -O2)).x, t2 = c2.y, 1 < (m2 = (f3 = (e3 - (n3 = (d3 = h2(n3, a3, -O2)).x)) / 2) * f3 / (i3 * i3) + (y3 = (t2 - (a3 = d3.y)) / 2) * y3 / (o3 * o3)) && (i3 *= m2 = Math.sqrt(m2), o3 *= m2), _2 = (S2 = i3 * i3) * (g2 = o3 * o3) - S2 * y3 * y3 - g2 * f3 * f3, v2 = S2 * y3 * y3 + g2 * f3 * f3, x2 = (E2 = (r3 === s3 ? -1 : 1) * Math.sqrt(Math.abs(_2 / v2))) * i3 * y3 / o3 + (e3 + n3) / 2, b2 = E2 * -o3 * f3 / i3 + (t2 + a3) / 2, k2 = Math.asin(parseFloat(((t2 - b2) / o3).toFixed(9))), w2 = Math.asin(parseFloat(((a3 - b2) / o3).toFixed(9))), e3 < x2 && (k2 = Math.PI - k2), n3 < x2 && (w2 = Math.PI - w2), k2 < 0 && (k2 = 2 * Math.PI + k2), w2 < 0 && (w2 = 2 * Math.PI + w2), s3 && w2 < k2 && (k2 -= 2 * Math.PI), !s3 && k2 < w2 && (w2 -= 2 * Math.PI));
            var I2, C2, L2, A2 = w2 - k2;
            Math.abs(A2) > 120 * Math.PI / 180 && (I2 = w2, C2 = n3, L2 = a3, w2 = s3 && k2 < w2 ? k2 + 120 * Math.PI / 180 * 1 : k2 + 120 * Math.PI / 180 * -1, n3 = x2 + i3 * Math.cos(w2), a3 = b2 + o3 * Math.sin(w2), M2 = U2(n3, a3, C2, L2, i3, o3, l3, 0, s3, [w2, I2, x2, b2])), A2 = w2 - k2;
            var V2 = Math.cos(k2), P2 = Math.sin(k2), N2 = Math.cos(w2), T2 = Math.sin(w2), W2 = Math.tan(A2 / 4), B2 = 4 / 3 * i3 * W2, R2 = 4 / 3 * o3 * W2, F2 = [e3, t2], G2 = [e3 + B2 * P2, t2 - R2 * V2], D2 = [n3 + B2 * T2, a3 - R2 * N2], z2 = [n3, a3];
            if (G2[0] = 2 * F2[0] - G2[0], G2[1] = 2 * F2[1] - G2[1], u2)
              return [G2, D2, z2].concat(M2);
            M2 = [G2, D2, z2].concat(M2).join().split(",");
            var j2 = [], H2 = [];
            return M2.forEach(function(e4, t3) {
              t3 % 2 ? H2.push(h2(M2[t3 - 1], M2[t3], O2).y) : H2.push(h2(M2[t3], M2[t3 + 1], O2).x), 6 === H2.length && (j2.push(H2), H2 = []);
            }), j2;
          };
          e2.SVGPathElement.prototype.setAttribute = function(e3, t2) {
            "d" === e3 && (this[f2] = null, this[y2] = null), n2.call(this, e3, t2);
          }, e2.SVGPathElement.prototype.removeAttribute = function(e3, t2) {
            "d" === e3 && (this[f2] = null, this[y2] = null), s2.call(this, e3);
          }, e2.SVGPathElement.prototype.getPathData = function(e3) {
            if (e3 && e3.normalize) {
              if (this[y2])
                return r2(this[y2]);
              this[f2] ? n3 = r2(this[f2]) : (n3 = a2(this.getAttribute("d") || ""), this[f2] = r2(n3));
              var t2 = d2((s3 = [], c2 = p2 = h2 = u2 = null, n3.forEach(function(e4) {
                var t3, n4, a3, i3, o3, l3, r3 = e4.type;
                "M" === r3 ? (o3 = e4.values[0], l3 = e4.values[1], s3.push({ type: "M", values: [o3, l3] }), u2 = p2 = o3, h2 = c2 = l3) : "m" === r3 ? (o3 = u2 + e4.values[0], l3 = h2 + e4.values[1], s3.push({ type: "M", values: [o3, l3] }), u2 = p2 = o3, h2 = c2 = l3) : "L" === r3 ? (o3 = e4.values[0], l3 = e4.values[1], s3.push({ type: "L", values: [o3, l3] }), u2 = o3, h2 = l3) : "l" === r3 ? (o3 = u2 + e4.values[0], l3 = h2 + e4.values[1], s3.push({ type: "L", values: [o3, l3] }), u2 = o3, h2 = l3) : "C" === r3 ? (t3 = e4.values[0], n4 = e4.values[1], a3 = e4.values[2], i3 = e4.values[3], o3 = e4.values[4], l3 = e4.values[5], s3.push({ type: "C", values: [t3, n4, a3, i3, o3, l3] }), u2 = o3, h2 = l3) : "c" === r3 ? (t3 = u2 + e4.values[0], n4 = h2 + e4.values[1], a3 = u2 + e4.values[2], i3 = h2 + e4.values[3], o3 = u2 + e4.values[4], l3 = h2 + e4.values[5], s3.push({ type: "C", values: [t3, n4, a3, i3, o3, l3] }), u2 = o3, h2 = l3) : "Q" === r3 ? (t3 = e4.values[0], n4 = e4.values[1], o3 = e4.values[2], l3 = e4.values[3], s3.push({ type: "Q", values: [t3, n4, o3, l3] }), u2 = o3, h2 = l3) : "q" === r3 ? (t3 = u2 + e4.values[0], n4 = h2 + e4.values[1], o3 = u2 + e4.values[2], l3 = h2 + e4.values[3], s3.push({ type: "Q", values: [t3, n4, o3, l3] }), u2 = o3, h2 = l3) : "A" === r3 ? (o3 = e4.values[5], l3 = e4.values[6], s3.push({ type: "A", values: [e4.values[0], e4.values[1], e4.values[2], e4.values[3], e4.values[4], o3, l3] }), u2 = o3, h2 = l3) : "a" === r3 ? (o3 = u2 + e4.values[5], l3 = h2 + e4.values[6], s3.push({ type: "A", values: [e4.values[0], e4.values[1], e4.values[2], e4.values[3], e4.values[4], o3, l3] }), u2 = o3, h2 = l3) : "H" === r3 ? (o3 = e4.values[0], s3.push({ type: "H", values: [o3] }), u2 = o3) : "h" === r3 ? (o3 = u2 + e4.values[0], s3.push({ type: "H", values: [o3] }), u2 = o3) : "V" === r3 ? (l3 = e4.values[0], s3.push({ type: "V", values: [l3] }), h2 = l3) : "v" === r3 ? (l3 = h2 + e4.values[0], s3.push({ type: "V", values: [l3] }), h2 = l3) : "S" === r3 ? (a3 = e4.values[0], i3 = e4.values[1], o3 = e4.values[2], l3 = e4.values[3], s3.push({ type: "S", values: [a3, i3, o3, l3] }), u2 = o3, h2 = l3) : "s" === r3 ? (a3 = u2 + e4.values[0], i3 = h2 + e4.values[1], o3 = u2 + e4.values[2], l3 = h2 + e4.values[3], s3.push({ type: "S", values: [a3, i3, o3, l3] }), u2 = o3, h2 = l3) : "T" === r3 ? (o3 = e4.values[0], l3 = e4.values[1], s3.push({ type: "T", values: [o3, l3] }), u2 = o3, h2 = l3) : "t" === r3 ? (o3 = u2 + e4.values[0], l3 = h2 + e4.values[1], s3.push({ type: "T", values: [o3, l3] }), u2 = o3, h2 = l3) : "Z" !== r3 && "z" !== r3 || (s3.push({ type: "Z", values: [] }), u2 = p2, h2 = c2);
              }), s3));
              return this[y2] = r2(t2), t2;
            }
            if (this[f2])
              return r2(this[f2]);
            var s3, u2, h2, p2, c2, n3 = a2(this.getAttribute("d") || "");
            return this[f2] = r2(n3), n3;
          }, e2.SVGPathElement.prototype.setPathData = function(e3) {
            if (0 === e3.length)
              l2 ? this.setAttribute("d", "") : this.removeAttribute("d");
            else {
              for (var t2 = "", n3 = 0, a3 = e3.length; n3 < a3; n3 += 1) {
                var i3 = e3[n3];
                0 < n3 && (t2 += " "), t2 += i3.type, i3.values && 0 < i3.values.length && (t2 += " " + i3.values.join(" "));
              }
              this.setAttribute("d", t2);
            }
          }, e2.SVGRectElement.prototype.getPathData = function(e3) {
            var t2 = this.x.baseVal.value, n3 = this.y.baseVal.value, a3 = this.width.baseVal.value, i3 = this.height.baseVal.value, o3 = this.hasAttribute("rx") ? this.rx.baseVal.value : this.ry.baseVal.value, l3 = this.hasAttribute("ry") ? this.ry.baseVal.value : this.rx.baseVal.value;
            a3 / 2 < o3 && (o3 = a3 / 2), i3 / 2 < l3 && (l3 = i3 / 2);
            var r3 = (r3 = [{ type: "M", values: [t2 + o3, n3] }, { type: "H", values: [t2 + a3 - o3] }, { type: "A", values: [o3, l3, 0, 0, 1, t2 + a3, n3 + l3] }, { type: "V", values: [n3 + i3 - l3] }, { type: "A", values: [o3, l3, 0, 0, 1, t2 + a3 - o3, n3 + i3] }, { type: "H", values: [t2 + o3] }, { type: "A", values: [o3, l3, 0, 0, 1, t2, n3 + i3 - l3] }, { type: "V", values: [n3 + l3] }, { type: "A", values: [o3, l3, 0, 0, 1, t2 + o3, n3] }, { type: "Z", values: [] }]).filter(function(e4) {
              return "A" !== e4.type || 0 !== e4.values[0] && 0 !== e4.values[1];
            });
            return e3 && true === e3.normalize && (r3 = d2(r3)), r3;
          }, e2.SVGCircleElement.prototype.getPathData = function(e3) {
            var t2 = this.cx.baseVal.value, n3 = this.cy.baseVal.value, a3 = this.r.baseVal.value, i3 = [{ type: "M", values: [t2 + a3, n3] }, { type: "A", values: [a3, a3, 0, 0, 1, t2, n3 + a3] }, { type: "A", values: [a3, a3, 0, 0, 1, t2 - a3, n3] }, { type: "A", values: [a3, a3, 0, 0, 1, t2, n3 - a3] }, { type: "A", values: [a3, a3, 0, 0, 1, t2 + a3, n3] }, { type: "Z", values: [] }];
            return e3 && true === e3.normalize && (i3 = d2(i3)), i3;
          }, e2.SVGEllipseElement.prototype.getPathData = function(e3) {
            var t2 = this.cx.baseVal.value, n3 = this.cy.baseVal.value, a3 = this.rx.baseVal.value, i3 = this.ry.baseVal.value, o3 = [{ type: "M", values: [t2 + a3, n3] }, { type: "A", values: [a3, i3, 0, 0, 1, t2, n3 + i3] }, { type: "A", values: [a3, i3, 0, 0, 1, t2 - a3, n3] }, { type: "A", values: [a3, i3, 0, 0, 1, t2, n3 - i3] }, { type: "A", values: [a3, i3, 0, 0, 1, t2 + a3, n3] }, { type: "Z", values: [] }];
            return e3 && true === e3.normalize && (o3 = d2(o3)), o3;
          }, e2.SVGLineElement.prototype.getPathData = function() {
            return [{ type: "M", values: [this.x1.baseVal.value, this.y1.baseVal.value] }, { type: "L", values: [this.x2.baseVal.value, this.y2.baseVal.value] }];
          }, e2.SVGPolylineElement.prototype.getPathData = function() {
            for (var e3 = [], t2 = 0; t2 < this.points.numberOfItems; t2 += 1) {
              var n3 = this.points.getItem(t2);
              e3.push({ type: 0 === t2 ? "M" : "L", values: [n3.x, n3.y] });
            }
            return e3;
          }, e2.SVGPolygonElement.prototype.getPathData = function() {
            for (var e3 = [], t2 = 0; t2 < this.points.numberOfItems; t2 += 1) {
              var n3 = this.points.getItem(t2);
              e3.push({ type: 0 === t2 ? "M" : "L", values: [n3.x, n3.y] });
            }
            return e3.push({ type: "Z", values: [] }), e3;
          };
        }();
      }, v = (a = {}, xe.m = n = [function(e2, t2, n2) {
        n2.r(t2);
        var a2 = 500, i2 = [], o2 = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function(e3) {
          return setTimeout(e3, 1e3 / 60);
        }, l2 = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function(e3) {
          return clearTimeout(e3);
        }, r2 = Date.now(), s2 = void 0;
        function u2() {
          var n3 = void 0, e3 = void 0;
          s2 && (l2.call(window, s2), s2 = null), i2.forEach(function(e4) {
            var t3;
            (t3 = e4.event) && (e4.event = null, e4.listener(t3), n3 = true);
          }), n3 ? (r2 = Date.now(), e3 = true) : Date.now() - r2 < a2 && (e3 = true), e3 && (s2 = o2.call(window, u2));
        }
        function h2(n3) {
          var a3 = -1;
          return i2.some(function(e3, t3) {
            return e3.listener === n3 && (a3 = t3, true);
          }), a3;
        }
        var p2 = { add: function(e3) {
          var t3 = void 0;
          return -1 === h2(e3) ? (i2.push(t3 = { listener: e3 }), function(e4) {
            t3.event = e4, s2 || u2();
          }) : null;
        }, remove: function(e3) {
          var t3;
          -1 < (t3 = h2(e3)) && (i2.splice(t3, 1), !i2.length && s2 && (l2.call(window, s2), s2 = null));
        } };
        t2.default = p2;
      }], xe.c = a, xe.d = function(e2, t2, n2) {
        xe.o(e2, t2) || Object.defineProperty(e2, t2, { enumerable: true, get: n2 });
      }, xe.r = function(e2) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e2, "__esModule", { value: true });
      }, xe.t = function(t2, e2) {
        if (1 & e2 && (t2 = xe(t2)), 8 & e2)
          return t2;
        if (4 & e2 && "object" == typeof t2 && t2 && t2.__esModule)
          return t2;
        var n2 = /* @__PURE__ */ Object.create(null);
        if (xe.r(n2), Object.defineProperty(n2, "default", { enumerable: true, value: t2 }), 2 & e2 && "string" != typeof t2)
          for (var a2 in t2)
            xe.d(n2, a2, function(e3) {
              return t2[e3];
            }.bind(null, a2));
        return n2;
      }, xe.n = function(e2) {
        var t2 = e2 && e2.__esModule ? function() {
          return e2.default;
        } : function() {
          return e2;
        };
        return xe.d(t2, "a", t2), t2;
      }, xe.o = function(e2, t2) {
        return Object.prototype.hasOwnProperty.call(e2, t2);
      }, xe.p = "", xe(xe.s = 0).default), me = { line_altColor: { iniValue: false }, line_color: {}, line_colorTra: { iniValue: false }, line_strokeWidth: {}, plug_enabled: { iniValue: false }, plug_enabledSE: { hasSE: true, iniValue: false }, plug_plugSE: { hasSE: true, iniValue: ne }, plug_colorSE: { hasSE: true }, plug_colorTraSE: { hasSE: true, iniValue: false }, plug_markerWidthSE: { hasSE: true }, plug_markerHeightSE: { hasSE: true }, lineOutline_enabled: { iniValue: false }, lineOutline_color: {}, lineOutline_colorTra: { iniValue: false }, lineOutline_strokeWidth: {}, lineOutline_inStrokeWidth: {}, plugOutline_enabledSE: { hasSE: true, iniValue: false }, plugOutline_plugSE: { hasSE: true, iniValue: ne }, plugOutline_colorSE: { hasSE: true }, plugOutline_colorTraSE: { hasSE: true, iniValue: false }, plugOutline_strokeWidthSE: { hasSE: true }, plugOutline_inStrokeWidthSE: { hasSE: true }, position_socketXYSE: { hasSE: true, hasProps: true }, position_plugOverheadSE: { hasSE: true }, position_path: {}, position_lineStrokeWidth: {}, position_socketGravitySE: { hasSE: true }, path_pathData: {}, path_edge: { hasProps: true }, viewBox_bBox: { hasProps: true }, viewBox_plugBCircleSE: { hasSE: true }, lineMask_enabled: { iniValue: false }, lineMask_outlineMode: { iniValue: false }, lineMask_x: {}, lineMask_y: {}, lineOutlineMask_x: {}, lineOutlineMask_y: {}, maskBGRect_x: {}, maskBGRect_y: {}, capsMaskAnchor_enabledSE: { hasSE: true, iniValue: false }, capsMaskAnchor_pathDataSE: { hasSE: true }, capsMaskAnchor_strokeWidthSE: { hasSE: true }, capsMaskMarker_enabled: { iniValue: false }, capsMaskMarker_enabledSE: { hasSE: true, iniValue: false }, capsMaskMarker_plugSE: { hasSE: true, iniValue: ne }, capsMaskMarker_markerWidthSE: { hasSE: true }, capsMaskMarker_markerHeightSE: { hasSE: true }, caps_enabled: { iniValue: false }, attach_plugSideLenSE: { hasSE: true }, attach_plugBackLenSE: { hasSE: true } }, E = { show_on: {}, show_effect: {}, show_animOptions: {}, show_animId: {}, show_inAnim: {} }, O = "fade", Se = [], ge = {}, _e = 0, ve = {}, Ee = 0;
      function xe(e2) {
        if (a[e2])
          return a[e2].exports;
        var t2 = a[e2] = { i: e2, l: false, exports: {} };
        return n[e2].call(t2.exports, t2, t2.exports, xe), t2.l = true, t2.exports;
      }
      function be() {
        var i2 = Date.now(), o2 = false;
        e && (r.call(window, e), e = null), k.forEach(function(e2) {
          var t2, n2, a2;
          if (e2.framesStart) {
            if ((t2 = i2 - e2.framesStart) >= e2.duration && e2.count && e2.loopsLeft <= 1)
              return a2 = e2.frames[e2.lastFrame = e2.reverse ? 0 : e2.frames.length - 1], e2.frameCallback(a2.value, true, a2.timeRatio, a2.outputRatio), void (e2.framesStart = null);
            if (t2 > e2.duration) {
              if (n2 = Math.floor(t2 / e2.duration), e2.count) {
                if (n2 >= e2.loopsLeft)
                  return a2 = e2.frames[e2.lastFrame = e2.reverse ? 0 : e2.frames.length - 1], e2.frameCallback(a2.value, true, a2.timeRatio, a2.outputRatio), void (e2.framesStart = null);
                e2.loopsLeft -= n2;
              }
              e2.framesStart += e2.duration * n2, t2 = i2 - e2.framesStart;
            }
            e2.reverse && (t2 = e2.duration - t2), a2 = e2.frames[e2.lastFrame = Math.round(t2 / b)], false !== e2.frameCallback(a2.value, false, a2.timeRatio, a2.outputRatio) ? o2 = true : e2.framesStart = null;
          }
        }), o2 && (e = l.call(window, be));
      }
      function ke(e2, t2) {
        e2.framesStart = Date.now(), null != t2 && (e2.framesStart -= e2.duration * (e2.reverse ? 1 - t2 : t2)), e2.loopsLeft = e2.count, e2.lastFrame = null, be();
      }
      function we(t2, n2) {
        var e2, a2;
        return typeof t2 != typeof n2 || (e2 = fe(t2) ? "obj" : Array.isArray(t2) ? "array" : "") != (fe(n2) ? "obj" : Array.isArray(n2) ? "array" : "") || ("obj" === e2 ? we(a2 = Object.keys(t2).sort(), Object.keys(n2).sort()) || a2.some(function(e3) {
          return we(t2[e3], n2[e3]);
        }) : "array" === e2 ? t2.length !== n2.length || t2.some(function(e3, t3) {
          return we(e3, n2[t3]);
        }) : t2 !== n2);
      }
      function Oe(n2) {
        return n2 ? fe(n2) ? Object.keys(n2).reduce(function(e2, t2) {
          return e2[t2] = Oe(n2[t2]), e2;
        }, {}) : Array.isArray(n2) ? n2.map(Oe) : n2 : n2;
      }
      function Me(e2) {
        var t2, n2, a2, i2 = 1, o2 = e2 = (e2 + "").trim();
        function l2(e3) {
          var t3 = 1, n3 = m.exec(e3);
          return n3 && (t3 = parseFloat(n3[1]), n3[2] ? t3 = 0 <= t3 && t3 <= 100 ? t3 / 100 : 1 : (t3 < 0 || 1 < t3) && (t3 = 1)), t3;
        }
        return (t2 = /^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e2)) ? (n2 = t2[1].toLowerCase(), a2 = t2[2].trim().split(/\s*,\s*/), "rgba" === n2 && 4 === a2.length ? (i2 = l2(a2[3]), o2 = "rgb(" + a2.slice(0, 3).join(", ") + ")") : "hsla" === n2 && 4 === a2.length ? (i2 = l2(a2[3]), o2 = "hsl(" + a2.slice(0, 3).join(", ") + ")") : "hwb" === n2 && 4 === a2.length ? (i2 = l2(a2[3]), o2 = "hwb(" + a2.slice(0, 3).join(", ") + ")") : "gray" === n2 && 2 === a2.length ? (i2 = l2(a2[1]), o2 = "gray(" + a2[0] + ")") : "device-cmyk" === n2 && 5 <= a2.length && (i2 = l2(a2[4]), o2 = "device-cmyk(" + a2.slice(0, 4).join(", ") + ")")) : (t2 = /^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e2)) ? o2 = t2[1] ? (i2 = parseInt(t2[2], 16) / 255, "#" + t2[1]) : (i2 = parseInt(t2[4] + t2[4], 16) / 255, "#" + t2[3]) : "transparent" === e2.toLocaleLowerCase() && (i2 = 0), [i2, o2];
      }
      function Ie(e2) {
        return !(!e2 || e2.nodeType !== Node.ELEMENT_NODE || "function" != typeof e2.getBoundingClientRect);
      }
      function Ce(e2, t2) {
        var n2, a2, i2, o2, l2 = {};
        if (!(i2 = e2.ownerDocument))
          return console.error("Cannot get document that contains the element."), null;
        if (e2.compareDocumentPosition(i2) & Node.DOCUMENT_POSITION_DISCONNECTED)
          return console.error("A disconnected element was passed."), null;
        for (a2 in n2 = e2.getBoundingClientRect())
          l2[a2] = n2[a2];
        if (!t2) {
          if (!(o2 = i2.defaultView))
            return console.error("Cannot get window that contains the element."), null;
          l2.left += o2.pageXOffset, l2.right += o2.pageXOffset, l2.top += o2.pageYOffset, l2.bottom += o2.pageYOffset;
        }
        return l2;
      }
      function Le(e2, t2) {
        var n2, a2, i2 = [], o2 = e2;
        for (t2 = t2 || window; ; ) {
          if (!(n2 = o2.ownerDocument))
            return console.error("Cannot get document that contains the element."), null;
          if (!(a2 = n2.defaultView))
            return console.error("Cannot get window that contains the element."), null;
          if (a2 === t2)
            break;
          if (!(o2 = a2.frameElement))
            return console.error("`baseWindow` was not found."), null;
          i2.unshift(o2);
        }
        return i2;
      }
      function Ae(e2, t2) {
        var n2, a2, o2 = 0, l2 = 0;
        return (a2 = Le(e2, t2 = t2 || window)) ? a2.length ? (a2.forEach(function(e3, t3) {
          var n3, a3, i2 = Ce(e3, 0 < t3);
          o2 += i2.left, l2 += i2.top, a3 = (n3 = e3).ownerDocument.defaultView.getComputedStyle(n3, ""), i2 = { left: n3.clientLeft + parseFloat(a3.paddingLeft), top: n3.clientTop + parseFloat(a3.paddingTop) }, o2 += i2.left, l2 += i2.top;
        }), (n2 = Ce(e2, true)).left += o2, n2.right += o2, n2.top += l2, n2.bottom += l2, n2) : Ce(e2) : null;
      }
      function Ve(e2, t2) {
        var n2 = e2.x - t2.x, a2 = e2.y - t2.y;
        return Math.sqrt(n2 * n2 + a2 * a2);
      }
      function Pe(e2, t2, n2) {
        var a2 = t2.x - e2.x, i2 = t2.y - e2.y;
        return { x: e2.x + a2 * n2, y: e2.y + i2 * n2, angle: Math.atan2(i2, a2) / (Math.PI / 180) };
      }
      function Ne(e2, t2, n2) {
        var a2 = Math.atan2(e2.y - t2.y, t2.x - e2.x);
        return { x: t2.x + Math.cos(a2) * n2, y: t2.y + Math.sin(a2) * n2 * -1 };
      }
      function Te(e2, t2, n2, a2, i2) {
        var o2 = i2 * i2, l2 = o2 * i2, r2 = 1 - i2, s2 = r2 * r2, u2 = s2 * r2, h2 = u2 * e2.x + 3 * s2 * i2 * t2.x + 3 * r2 * o2 * n2.x + l2 * a2.x, p2 = u2 * e2.y + 3 * s2 * i2 * t2.y + 3 * r2 * o2 * n2.y + l2 * a2.y, c2 = e2.x + 2 * i2 * (t2.x - e2.x) + o2 * (n2.x - 2 * t2.x + e2.x), d2 = e2.y + 2 * i2 * (t2.y - e2.y) + o2 * (n2.y - 2 * t2.y + e2.y), f2 = t2.x + 2 * i2 * (n2.x - t2.x) + o2 * (a2.x - 2 * n2.x + t2.x), y2 = t2.y + 2 * i2 * (n2.y - t2.y) + o2 * (a2.y - 2 * n2.y + t2.y), m2 = r2 * e2.x + i2 * t2.x, S2 = r2 * e2.y + i2 * t2.y, g2 = r2 * n2.x + i2 * a2.x, _2 = r2 * n2.y + i2 * a2.y, v2 = 90 - 180 * Math.atan2(c2 - f2, d2 - y2) / Math.PI;
        return { x: h2, y: p2, fromP2: { x: c2, y: d2 }, toP1: { x: f2, y: y2 }, fromP1: { x: m2, y: S2 }, toP2: { x: g2, y: _2 }, angle: v2 += 180 < v2 ? -180 : 180 };
      }
      function We(n2, a2, i2, o2, e2) {
        function l2(e3, t2, n3, a3, i3) {
          return e3 * (e3 * (-3 * t2 + 9 * n3 - 9 * a3 + 3 * i3) + 6 * t2 - 12 * n3 + 6 * a3) - 3 * t2 + 3 * n3;
        }
        var r2, s2, u2, h2, p2 = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472], c2 = 0, d2 = (e2 = null == e2 || 1 < e2 ? 1 : e2 < 0 ? 0 : e2) / 2;
        return [-0.1252, 0.1252, -0.3678, 0.3678, -0.5873, 0.5873, -0.7699, 0.7699, -0.9041, 0.9041, -0.9816, 0.9816].forEach(function(e3, t2) {
          s2 = l2(r2 = d2 * e3 + d2, n2.x, a2.x, i2.x, o2.x), u2 = l2(r2, n2.y, a2.y, i2.y, o2.y), h2 = s2 * s2 + u2 * u2, c2 += p2[t2] * Math.sqrt(h2);
        }), d2 * c2;
      }
      function Be(e2, t2, n2, a2, i2) {
        for (var o2, l2 = 0.5, r2 = 1 - l2; o2 = We(e2, t2, n2, a2, r2), !(Math.abs(o2 - i2) <= 0.01); )
          r2 += (o2 < i2 ? 1 : -1) * (l2 /= 2);
        return r2;
      }
      function Re(e2, n2) {
        var a2;
        return e2.forEach(function(e3) {
          var t2 = n2 ? e3.map(function(e4) {
            var t3 = { x: e4.x, y: e4.y };
            return n2(t3), t3;
          }) : e3;
          (a2 = a2 || [{ type: "M", values: [t2[0].x, t2[0].y] }]).push(t2.length ? 2 === t2.length ? { type: "L", values: [t2[1].x, t2[1].y] } : { type: "C", values: [t2[1].x, t2[1].y, t2[2].x, t2[2].y, t2[3].x, t2[3].y] } : { type: "Z", values: [] });
        }), a2;
      }
      function Fe(e2) {
        var n2 = [], a2 = 0;
        return e2.forEach(function(e3) {
          var t2 = (2 === e3.length ? Ve : We).apply(null, e3);
          n2.push(t2), a2 += t2;
        }), { segsLen: n2, lenAll: a2 };
      }
      function Ge(e2, a2) {
        return null == e2 || null == a2 || e2.length !== a2.length || e2.some(function(e3, t2) {
          var n2 = a2[t2];
          return e3.type !== n2.type || e3.values.some(function(e4, t3) {
            return e4 !== n2.values[t3];
          });
        });
      }
      function De(e2, t2, n2) {
        e2.events[t2] ? e2.events[t2].indexOf(n2) < 0 && e2.events[t2].push(n2) : e2.events[t2] = [n2];
      }
      function ze(e2, t2, n2) {
        var a2;
        e2.events[t2] && -1 < (a2 = e2.events[t2].indexOf(n2)) && e2.events[t2].splice(a2, 1);
      }
      function je(e2) {
        t && clearTimeout(t), Se.push(e2), t = setTimeout(function() {
          Se.forEach(function(e3) {
            e3();
          }), Se = [];
        }, 0);
      }
      function He(e2, t2) {
        e2.reflowTargets.indexOf(t2) < 0 && e2.reflowTargets.push(t2);
      }
      function Ue(e2) {
        e2.reflowTargets.forEach(function(e3) {
          var n2;
          n2 = e3, setTimeout(function() {
            var e4 = n2.parentNode, t2 = n2.nextSibling;
            e4.insertBefore(e4.removeChild(n2), t2);
          }, 0);
        }), e2.reflowTargets = [];
      }
      function Ze(e2, t2, n2, a2, i2, o2, l2) {
        var r2, s2, u2;
        "auto-start-reverse" === n2 ? ("boolean" != typeof h && (t2.setAttribute("orient", "auto-start-reverse"), h = t2.orientType.baseVal === SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN), h ? t2.setAttribute("orient", n2) : ((r2 = i2.createSVGTransform()).setRotate(180, 0, 0), o2.transform.baseVal.appendItem(r2), t2.setAttribute("orient", "auto"), u2 = true)) : (t2.setAttribute("orient", n2), false === h && o2.transform.baseVal.clear()), s2 = t2.viewBox.baseVal, u2 ? (s2.x = -a2.right, s2.y = -a2.bottom) : (s2.x = a2.left, s2.y = a2.top), s2.width = a2.width, s2.height = a2.height, se && He(e2, l2);
      }
      function Ye(e2, t2) {
        return { prop: e2 ? "markerEnd" : "markerStart", orient: t2 ? t2.noRotate ? "0" : e2 ? "auto" : "auto-start-reverse" : null };
      }
      function Xe(n2, a2) {
        Object.keys(a2).forEach(function(e2) {
          var t2 = a2[e2];
          n2[e2] = null != t2.iniValue ? t2.hasSE ? [t2.iniValue, t2.iniValue] : t2.iniValue : t2.hasSE ? t2.hasProps ? [{}, {}] : [] : t2.hasProps ? {} : null;
        });
      }
      function qe(t2, e2, n2, a2, i2) {
        return a2 !== e2[n2] && (e2[n2] = a2, i2 && i2.forEach(function(e3) {
          e3(t2, a2, n2);
        }), true);
      }
      function Qe(e2) {
        function t2(e3, t3) {
          return e3 + parseFloat(t3);
        }
        var n2 = e2.document, a2 = e2.getComputedStyle(n2.documentElement, ""), i2 = e2.getComputedStyle(n2.body, ""), o2 = { x: 0, y: 0 };
        return "static" !== i2.position ? (o2.x -= [a2.marginLeft, a2.borderLeftWidth, a2.paddingLeft, i2.marginLeft, i2.borderLeftWidth].reduce(t2, 0), o2.y -= [a2.marginTop, a2.borderTopWidth, a2.paddingTop, i2.marginTop, i2.borderTopWidth].reduce(t2, 0)) : "static" !== a2.position && (o2.x -= [a2.marginLeft, a2.borderLeftWidth].reduce(t2, 0), o2.y -= [a2.marginTop, a2.borderTopWidth].reduce(t2, 0)), o2;
      }
      function Ke(e2) {
        var t2, n2 = e2.document;
        n2.getElementById(d) || (t2 = new e2.DOMParser().parseFromString(y, "image/svg+xml"), n2.body.appendChild(t2.documentElement), _(e2));
      }
      function Je(u2) {
        var _2, f2, v2, e2, n2, a2, i2, y2, s2, h2, p2, t2, o2, l2, r2, c2, d2, m2, S2, g2 = u2.options, E2 = u2.curStats, x2 = u2.aplStats, b2 = E2.position_socketXYSE, k2 = false;
        function w2(e3, t3) {
          var n3 = t3 === V ? { x: e3.left + e3.width / 2, y: e3.top } : t3 === P ? { x: e3.right, y: e3.top + e3.height / 2 } : t3 === N ? { x: e3.left + e3.width / 2, y: e3.bottom } : { x: e3.left, y: e3.top + e3.height / 2 };
          return n3.socketId = t3, n3;
        }
        function O2(e3) {
          return { x: e3.x, y: e3.y };
        }
        if (E2.position_path = g2.path, E2.position_lineStrokeWidth = E2.line_strokeWidth, E2.position_socketGravitySE = _2 = Oe(g2.socketGravitySE), f2 = [0, 1].map(function(e3) {
          var t3, n3, a3, i3 = g2.anchorSE[e3], o3 = u2.optionIsAttach.anchorSE[e3], l3 = false !== o3 ? ve[i3._id] : null, r3 = false !== o3 && l3.conf.getStrokeWidth ? l3.conf.getStrokeWidth(l3, u2) : 0, s3 = false !== o3 && l3.conf.getBBoxNest ? l3.conf.getBBoxNest(l3, u2, r3) : Ae(i3, u2.baseWindow);
          return E2.capsMaskAnchor_pathDataSE[e3] = false !== o3 && l3.conf.getPathData ? l3.conf.getPathData(l3, u2, r3) : (n3 = null != (t3 = s3).right ? t3.right : t3.left + t3.width, a3 = null != t3.bottom ? t3.bottom : t3.top + t3.height, [{ type: "M", values: [t3.left, t3.top] }, { type: "L", values: [n3, t3.top] }, { type: "L", values: [n3, a3] }, { type: "L", values: [t3.left, a3] }, { type: "Z", values: [] }]), E2.capsMaskAnchor_strokeWidthSE[e3] = r3, s3;
        }), i2 = -1, g2.socketSE[0] && g2.socketSE[1] ? (b2[0] = w2(f2[0], g2.socketSE[0]), b2[1] = w2(f2[1], g2.socketSE[1])) : (g2.socketSE[0] || g2.socketSE[1] ? (a2 = g2.socketSE[0] ? (n2 = 0, 1) : (n2 = 1, 0), b2[n2] = w2(f2[n2], g2.socketSE[n2]), (e2 = H.map(function(e3) {
          return w2(f2[a2], e3);
        })).forEach(function(e3) {
          var t3 = Ve(e3, b2[n2]);
          (t3 < i2 || -1 === i2) && (b2[a2] = e3, i2 = t3);
        })) : (e2 = H.map(function(e3) {
          return w2(f2[1], e3);
        }), H.map(function(e3) {
          return w2(f2[0], e3);
        }).forEach(function(n3) {
          e2.forEach(function(e3) {
            var t3 = Ve(n3, e3);
            (t3 < i2 || -1 === i2) && (b2[0] = n3, b2[1] = e3, i2 = t3);
          });
        })), [0, 1].forEach(function(e3) {
          var t3, n3;
          g2.socketSE[e3] || (f2[e3].width || f2[e3].height ? f2[e3].width || b2[e3].socketId !== T && b2[e3].socketId !== P ? f2[e3].height || b2[e3].socketId !== V && b2[e3].socketId !== N || (b2[e3].socketId = 0 <= b2[e3 ? 0 : 1].y - f2[e3].top ? N : V) : b2[e3].socketId = 0 <= b2[e3 ? 0 : 1].x - f2[e3].left ? P : T : (t3 = b2[e3 ? 0 : 1].x - f2[e3].left, n3 = b2[e3 ? 0 : 1].y - f2[e3].top, b2[e3].socketId = Math.abs(t3) >= Math.abs(n3) ? 0 <= t3 ? P : T : 0 <= n3 ? N : V));
        })), E2.position_path !== x2.position_path || E2.position_lineStrokeWidth !== x2.position_lineStrokeWidth || [0, 1].some(function(e3) {
          return E2.position_plugOverheadSE[e3] !== x2.position_plugOverheadSE[e3] || (i3 = b2[e3], o3 = x2.position_socketXYSE[e3], i3.x !== o3.x || i3.y !== o3.y || i3.socketId !== o3.socketId) || (t3 = _2[e3], n3 = x2.position_socketGravitySE[e3], (a3 = null == t3 ? "auto" : Array.isArray(t3) ? "array" : "number") != (null == n3 ? "auto" : Array.isArray(n3) ? "array" : "number") || ("array" == a3 ? t3[0] !== n3[0] || t3[1] !== n3[1] : t3 !== n3));
          var t3, n3, a3, i3, o3;
        })) {
          switch (u2.pathList.baseVal = v2 = [], u2.pathList.animVal = null, E2.position_path) {
            case B:
              v2.push([O2(b2[0]), O2(b2[1])]);
              break;
            case R:
              t2 = "number" == typeof _2[0] && 0 < _2[0] || "number" == typeof _2[1] && 0 < _2[1], o2 = le * (t2 ? -1 : 1), l2 = Math.atan2(b2[1].y - b2[0].y, b2[1].x - b2[0].x), r2 = o2 - l2, c2 = Math.PI - l2 - o2, d2 = Ve(b2[0], b2[1]) / Math.sqrt(2) * ee, m2 = { x: b2[0].x + Math.cos(r2) * d2, y: b2[0].y + Math.sin(r2) * d2 * -1 }, S2 = { x: b2[1].x + Math.cos(c2) * d2, y: b2[1].y + Math.sin(c2) * d2 * -1 }, v2.push([O2(b2[0]), m2, S2, O2(b2[1])]);
              break;
            case F:
            case G:
              s2 = [_2[0], E2.position_path === G ? 0 : _2[1]], h2 = [], p2 = [], b2.forEach(function(e3, t3) {
                var n3, a3, i3, o3, l3 = s2[t3], r3 = Array.isArray(l3) ? { x: l3[0], y: l3[1] } : "number" == typeof l3 ? e3.socketId === V ? { x: 0, y: -l3 } : e3.socketId === P ? { x: l3, y: 0 } : e3.socketId === N ? { x: 0, y: l3 } : { x: -l3, y: 0 } : (n3 = b2[t3 ? 0 : 1], i3 = 0 < (a3 = E2.position_plugOverheadSE[t3]) ? q + (Q < a3 ? (a3 - Q) * K : 0) : Z + (E2.position_lineStrokeWidth > Y ? (E2.position_lineStrokeWidth - Y) * X : 0), e3.socketId === V ? ((o3 = (e3.y - n3.y) / 2) < i3 && (o3 = i3), { x: 0, y: -o3 }) : e3.socketId === P ? ((o3 = (n3.x - e3.x) / 2) < i3 && (o3 = i3), { x: o3, y: 0 }) : e3.socketId === N ? ((o3 = (n3.y - e3.y) / 2) < i3 && (o3 = i3), { x: 0, y: o3 }) : ((o3 = (e3.x - n3.x) / 2) < i3 && (o3 = i3), { x: -o3, y: 0 }));
                h2[t3] = e3.x + r3.x, p2[t3] = e3.y + r3.y;
              }), v2.push([O2(b2[0]), { x: h2[0], y: p2[0] }, { x: h2[1], y: p2[1] }, O2(b2[1])]);
              break;
            case D:
              !function() {
                var a3, o3 = 1, l3 = 2, r3 = 3, s3 = 4, u3 = [[], []], h3 = [];
                function p3(e3) {
                  return e3 === o3 ? r3 : e3 === l3 ? s3 : e3 === r3 ? o3 : l3;
                }
                function c3(e3) {
                  return e3 === l3 || e3 === s3 ? "x" : "y";
                }
                function d3(e3, t3, n3) {
                  var a4 = { x: e3.x, y: e3.y };
                  if (n3) {
                    if (n3 === p3(e3.dirId))
                      throw new Error("Invalid dirId: " + n3);
                    a4.dirId = n3;
                  } else
                    a4.dirId = e3.dirId;
                  return a4.dirId === o3 ? a4.y -= t3 : a4.dirId === l3 ? a4.x += t3 : a4.dirId === r3 ? a4.y += t3 : a4.x -= t3, a4;
                }
                function f3(e3, t3) {
                  return t3.dirId === o3 ? e3.y <= t3.y : t3.dirId === l3 ? e3.x >= t3.x : t3.dirId === r3 ? e3.y >= t3.y : e3.x <= t3.x;
                }
                function y3(e3, t3) {
                  return t3.dirId === o3 || t3.dirId === r3 ? e3.x === t3.x : e3.y === t3.y;
                }
                function m3(e3) {
                  return e3[0] ? { contain: 0, notContain: 1 } : { contain: 1, notContain: 0 };
                }
                function S3(e3, t3, n3) {
                  return Math.abs(t3[n3] - e3[n3]);
                }
                function g3(e3, t3, n3) {
                  return "x" === n3 ? e3.x < t3.x ? l3 : s3 : e3.y < t3.y ? r3 : o3;
                }
                for (b2.forEach(function(e3, t3) {
                  var n3, a4 = O2(e3), i3 = _2[t3];
                  n3 = Array.isArray(i3) ? i3[0] < 0 ? [s3, -i3[0]] : 0 < i3[0] ? [l3, i3[0]] : i3[1] < 0 ? [o3, -i3[1]] : 0 < i3[1] ? [r3, i3[1]] : [e3.socketId, 0] : "number" != typeof i3 ? [e3.socketId, $] : 0 <= i3 ? [e3.socketId, i3] : [p3(e3.socketId), -i3], a4.dirId = n3[0], i3 = n3[1], u3[t3].push(a4), h3[t3] = d3(a4, i3);
                }); function() {
                  var e3, t3, a4, i3, n3 = [f3(h3[1], h3[0]), f3(h3[0], h3[1])], o4 = [c3(h3[0].dirId), c3(h3[1].dirId)];
                  if (o4[0] === o4[1]) {
                    if (n3[0] && n3[1])
                      return void (y3(h3[1], h3[0]) || (h3[0][o4[0]] === h3[1][o4[1]] ? (u3[0].push(h3[0]), u3[1].push(h3[1])) : (e3 = h3[0][o4[0]] + (h3[1][o4[1]] - h3[0][o4[0]]) / 2, u3[0].push(d3(h3[0], Math.abs(e3 - h3[0][o4[0]]))), u3[1].push(d3(h3[1], Math.abs(e3 - h3[1][o4[1]]))))));
                    n3[0] !== n3[1] ? (t3 = m3(n3), (a4 = S3(h3[t3.notContain], h3[t3.contain], o4[t3.notContain])) < $ && (h3[t3.notContain] = d3(h3[t3.notContain], $ - a4)), u3[t3.notContain].push(h3[t3.notContain]), h3[t3.notContain] = d3(h3[t3.notContain], $, y3(h3[t3.contain], h3[t3.notContain]) ? "x" === o4[t3.notContain] ? r3 : l3 : g3(h3[t3.notContain], h3[t3.contain], "x" === o4[t3.notContain] ? "y" : "x"))) : (a4 = S3(h3[0], h3[1], "x" === o4[0] ? "y" : "x"), u3.forEach(function(e4, t4) {
                      var n4 = 0 === t4 ? 1 : 0;
                      e4.push(h3[t4]), h3[t4] = d3(h3[t4], $, 2 * $ <= a4 ? g3(h3[t4], h3[n4], "x" === o4[t4] ? "y" : "x") : "x" === o4[t4] ? r3 : l3);
                    }));
                  } else {
                    if (n3[0] && n3[1])
                      return void (y3(h3[1], h3[0]) ? u3[1].push(h3[1]) : y3(h3[0], h3[1]) ? u3[0].push(h3[0]) : u3[0].push("x" === o4[0] ? { x: h3[1].x, y: h3[0].y } : { x: h3[0].x, y: h3[1].y }));
                    n3[0] !== n3[1] ? (t3 = m3(n3), u3[t3.notContain].push(h3[t3.notContain]), h3[t3.notContain] = d3(h3[t3.notContain], $, S3(h3[t3.notContain], h3[t3.contain], o4[t3.contain]) >= $ ? g3(h3[t3.notContain], h3[t3.contain], o4[t3.contain]) : h3[t3.contain].dirId)) : (i3 = [{ x: h3[0].x, y: h3[0].y }, { x: h3[1].x, y: h3[1].y }], u3.forEach(function(e4, t4) {
                      var n4 = 0 === t4 ? 1 : 0, a5 = S3(i3[t4], i3[n4], o4[t4]);
                      a5 < $ && (h3[t4] = d3(h3[t4], $ - a5)), e4.push(h3[t4]), h3[t4] = d3(h3[t4], $, g3(h3[t4], h3[n4], o4[n4]));
                    }));
                  }
                  return 1;
                }(); )
                  ;
                u3[1].reverse(), u3[0].concat(u3[1]).forEach(function(e3, t3) {
                  var n3 = { x: e3.x, y: e3.y };
                  0 < t3 && v2.push([a3, n3]), a3 = n3;
                });
              }();
          }
          y2 = [], E2.position_plugOverheadSE.forEach(function(e3, t3) {
            var n3, a3, i3, o3, l3, r3, s3, u3, h3, p3, c3, d3 = !t3;
            0 < e3 ? 2 === (n3 = v2[a3 = d3 ? 0 : v2.length - 1]).length ? (y2[a3] = y2[a3] || Ve.apply(null, n3), y2[a3] > J && (y2[a3] - e3 < J && (e3 = y2[a3] - J), i3 = Pe(n3[0], n3[1], (d3 ? e3 : y2[a3] - e3) / y2[a3]), v2[a3] = d3 ? [i3, n3[1]] : [n3[0], i3], y2[a3] -= e3)) : (y2[a3] = y2[a3] || We.apply(null, n3), y2[a3] > J && (y2[a3] - e3 < J && (e3 = y2[a3] - J), i3 = Te(n3[0], n3[1], n3[2], n3[3], Be(n3[0], n3[1], n3[2], n3[3], d3 ? e3 : y2[a3] - e3)), l3 = d3 ? (o3 = n3[0], i3.toP1) : (o3 = n3[3], i3.fromP2), r3 = Math.atan2(o3.y - i3.y, i3.x - o3.x), s3 = Ve(i3, l3), i3.x = o3.x + Math.cos(r3) * e3, i3.y = o3.y + Math.sin(r3) * e3 * -1, l3.x = i3.x + Math.cos(r3) * s3, l3.y = i3.y + Math.sin(r3) * s3 * -1, v2[a3] = d3 ? [i3, i3.toP1, i3.toP2, n3[3]] : [n3[0], i3.fromP1, i3.fromP2, i3], y2[a3] = null)) : e3 < 0 && (n3 = v2[a3 = d3 ? 0 : v2.length - 1], u3 = b2[t3].socketId, h3 = u3 === T || u3 === P ? "x" : "y", e3 < (c3 = -f2[t3]["x" == h3 ? "width" : "height"]) && (e3 = c3), p3 = e3 * (u3 === T || u3 === V ? -1 : 1), 2 === n3.length ? n3[d3 ? 0 : n3.length - 1][h3] += p3 : (d3 ? [0, 1] : [n3.length - 2, n3.length - 1]).forEach(function(e4) {
              n3[e4][h3] += p3;
            }), y2[a3] = null);
          }), x2.position_socketXYSE = Oe(b2), x2.position_plugOverheadSE = Oe(E2.position_plugOverheadSE), x2.position_path = E2.position_path, x2.position_lineStrokeWidth = E2.position_lineStrokeWidth, x2.position_socketGravitySE = Oe(_2), k2 = true, u2.events.apl_position && u2.events.apl_position.forEach(function(e3) {
            e3(u2, v2);
          });
        }
        return k2;
      }
      function $e(t2, n2) {
        n2 !== t2.isShown && (!!n2 != !!t2.isShown && (t2.svg.style.visibility = n2 ? "" : "hidden"), t2.isShown = n2, t2.events && t2.events.svgShow && t2.events.svgShow.forEach(function(e2) {
          e2(t2, n2);
        }));
      }
      function et(e2, t2) {
        var n2, a2, i2, o2, l2, h2, p2, c2, d2, f2, r2, s2, u2, y2, m2, S2, g2, _2, v2, E2, x2, b2, k2, w2, O2, M2, I2, C2, L2, A2, V2, P2, N2, T2, W2, B2, R2, F2, G2, D2, z2, j2, H2, U2, Z2, Y2, X2, q2, Q2, K2, J2, $2, ee2 = {};
        t2.line && (ee2.line = (a2 = (n2 = e2).options, i2 = n2.curStats, o2 = n2.events, l2 = false, l2 = qe(n2, i2, "line_color", a2.lineColor, o2.cur_line_color) || l2, l2 = qe(n2, i2, "line_colorTra", Me(i2.line_color)[0] < 1) || l2, l2 = qe(n2, i2, "line_strokeWidth", a2.lineSize, o2.cur_line_strokeWidth) || l2)), (t2.plug || ee2.line) && (ee2.plug = (p2 = (h2 = e2).options, c2 = h2.curStats, d2 = h2.events, f2 = false, [0, 1].forEach(function(e3) {
          var t3, n3, a3, i3, o3, l3, r3, s3, u3 = p2.plugSE[e3];
          f2 = qe(h2, c2.plug_enabledSE, e3, u3 !== ne) || f2, f2 = qe(h2, c2.plug_plugSE, e3, u3) || f2, f2 = qe(h2, c2.plug_colorSE, e3, s3 = p2.plugColorSE[e3] || c2.line_color, d2.cur_plug_colorSE) || f2, f2 = qe(h2, c2.plug_colorTraSE, e3, Me(s3)[0] < 1) || f2, u3 !== ne && (i3 = n3 = (t3 = ae[ie[u3]]).widthR * p2.plugSizeSE[e3], o3 = a3 = t3.heightR * p2.plugSizeSE[e3], pe && (i3 *= c2.line_strokeWidth, o3 *= c2.line_strokeWidth), f2 = qe(h2, c2.plug_markerWidthSE, e3, i3) || f2, f2 = qe(h2, c2.plug_markerHeightSE, e3, o3) || f2, c2.capsMaskMarker_markerWidthSE[e3] = n3, c2.capsMaskMarker_markerHeightSE[e3] = a3), c2.plugOutline_plugSE[e3] = c2.capsMaskMarker_plugSE[e3] = u3, c2.plug_enabledSE[e3] ? (s3 = c2.line_strokeWidth / de.lineSize * p2.plugSizeSE[e3], c2.position_plugOverheadSE[e3] = t3.overhead * s3, c2.viewBox_plugBCircleSE[e3] = t3.bCircle * s3, l3 = t3.sideLen * s3, r3 = t3.backLen * s3) : (c2.position_plugOverheadSE[e3] = -c2.line_strokeWidth / 2, c2.viewBox_plugBCircleSE[e3] = l3 = r3 = 0), qe(h2, c2.attach_plugSideLenSE, e3, l3, d2.cur_attach_plugSideLenSE), qe(h2, c2.attach_plugBackLenSE, e3, r3, d2.cur_attach_plugBackLenSE), c2.capsMaskAnchor_enabledSE[e3] = !c2.plug_enabledSE[e3];
        }), f2 = qe(h2, c2, "plug_enabled", c2.plug_enabledSE[0] || c2.plug_enabledSE[1]) || f2)), (t2.lineOutline || ee2.line) && (ee2.lineOutline = (u2 = (r2 = e2).options, y2 = r2.curStats, m2 = false, m2 = qe(r2, y2, "lineOutline_enabled", u2.lineOutlineEnabled) || m2, m2 = qe(r2, y2, "lineOutline_color", u2.lineOutlineColor) || m2, m2 = qe(r2, y2, "lineOutline_colorTra", Me(y2.lineOutline_color)[0] < 1) || m2, s2 = y2.line_strokeWidth * u2.lineOutlineSize, m2 = qe(r2, y2, "lineOutline_strokeWidth", y2.line_strokeWidth - 2 * s2) || m2, m2 = qe(r2, y2, "lineOutline_inStrokeWidth", y2.lineOutline_colorTra ? y2.lineOutline_strokeWidth + 2 * ce : y2.line_strokeWidth - s2) || m2)), (t2.plugOutline || ee2.line || ee2.plug || ee2.lineOutline) && (ee2.plugOutline = (g2 = (S2 = e2).options, _2 = S2.curStats, v2 = false, [0, 1].forEach(function(e3) {
          var t3, n3 = _2.plugOutline_plugSE[e3], a3 = n3 !== ne ? ae[ie[n3]] : null;
          v2 = qe(S2, _2.plugOutline_enabledSE, e3, g2.plugOutlineEnabledSE[e3] && _2.plug_enabled && _2.plug_enabledSE[e3] && !!a3 && !!a3.outlineBase) || v2, v2 = qe(S2, _2.plugOutline_colorSE, e3, t3 = g2.plugOutlineColorSE[e3] || _2.lineOutline_color) || v2, v2 = qe(S2, _2.plugOutline_colorTraSE, e3, Me(t3)[0] < 1) || v2, a3 && a3.outlineBase && ((t3 = g2.plugOutlineSizeSE[e3]) > a3.outlineMax && (t3 = a3.outlineMax), t3 *= 2 * a3.outlineBase, v2 = qe(S2, _2.plugOutline_strokeWidthSE, e3, t3) || v2, v2 = qe(S2, _2.plugOutline_inStrokeWidthSE, e3, _2.plugOutline_colorTraSE[e3] ? t3 - ce / (_2.line_strokeWidth / de.lineSize) / g2.plugSizeSE[e3] * 2 : t3 / 2) || v2);
        }), v2)), (t2.faces || ee2.line || ee2.plug || ee2.lineOutline || ee2.plugOutline) && (ee2.faces = (b2 = (E2 = e2).curStats, k2 = E2.aplStats, w2 = E2.events, O2 = false, !b2.line_altColor && qe(E2, k2, "line_color", x2 = b2.line_color, w2.apl_line_color) && (E2.lineFace.style.stroke = x2, O2 = true), qe(E2, k2, "line_strokeWidth", x2 = b2.line_strokeWidth, w2.apl_line_strokeWidth) && (E2.lineShape.style.strokeWidth = x2 + "px", O2 = true, (ue || se) && (He(E2, E2.lineShape), se && (He(E2, E2.lineFace), He(E2, E2.lineMaskCaps)))), qe(E2, k2, "lineOutline_enabled", x2 = b2.lineOutline_enabled, w2.apl_lineOutline_enabled) && (E2.lineOutlineFace.style.display = x2 ? "inline" : "none", O2 = true), b2.lineOutline_enabled && (qe(E2, k2, "lineOutline_color", x2 = b2.lineOutline_color, w2.apl_lineOutline_color) && (E2.lineOutlineFace.style.stroke = x2, O2 = true), qe(E2, k2, "lineOutline_strokeWidth", x2 = b2.lineOutline_strokeWidth, w2.apl_lineOutline_strokeWidth) && (E2.lineOutlineMaskShape.style.strokeWidth = x2 + "px", O2 = true, se && (He(E2, E2.lineOutlineMaskCaps), He(E2, E2.lineOutlineFace))), qe(E2, k2, "lineOutline_inStrokeWidth", x2 = b2.lineOutline_inStrokeWidth, w2.apl_lineOutline_inStrokeWidth) && (E2.lineMaskShape.style.strokeWidth = x2 + "px", O2 = true, se && (He(E2, E2.lineOutlineMaskCaps), He(E2, E2.lineOutlineFace)))), qe(E2, k2, "plug_enabled", x2 = b2.plug_enabled, w2.apl_plug_enabled) && (E2.plugsFace.style.display = x2 ? "inline" : "none", O2 = true), b2.plug_enabled && [0, 1].forEach(function(n3) {
          var e3 = b2.plug_plugSE[n3], t3 = e3 !== ne ? ae[ie[e3]] : null, a3 = Ye(n3, t3);
          qe(E2, k2.plug_enabledSE, n3, x2 = b2.plug_enabledSE[n3], w2.apl_plug_enabledSE) && (E2.plugsFace.style[a3.prop] = x2 ? "url(#" + E2.plugMarkerIdSE[n3] + ")" : "none", O2 = true), b2.plug_enabledSE[n3] && (qe(E2, k2.plug_plugSE, n3, e3, w2.apl_plug_plugSE) && (E2.plugFaceSE[n3].href.baseVal = "#" + t3.elmId, Ze(E2, E2.plugMarkerSE[n3], a3.orient, t3.bBox, E2.svg, E2.plugMarkerShapeSE[n3], E2.plugsFace), O2 = true, ue && He(E2, E2.plugsFace)), qe(E2, k2.plug_colorSE, n3, x2 = b2.plug_colorSE[n3], w2.apl_plug_colorSE) && (E2.plugFaceSE[n3].style.fill = x2, O2 = true, (he || pe || se) && !b2.line_colorTra && He(E2, se ? E2.lineMaskCaps : E2.capsMaskLine)), ["markerWidth", "markerHeight"].forEach(function(e4) {
            var t4 = "plug_" + e4 + "SE";
            qe(E2, k2[t4], n3, x2 = b2[t4][n3], w2["apl_" + t4]) && (E2.plugMarkerSE[n3][e4].baseVal.value = x2, O2 = true);
          }), qe(E2, k2.plugOutline_enabledSE, n3, x2 = b2.plugOutline_enabledSE[n3], w2.apl_plugOutline_enabledSE) && (x2 ? (E2.plugFaceSE[n3].style.mask = "url(#" + E2.plugMaskIdSE[n3] + ")", E2.plugOutlineFaceSE[n3].style.display = "inline") : (E2.plugFaceSE[n3].style.mask = "none", E2.plugOutlineFaceSE[n3].style.display = "none"), O2 = true), b2.plugOutline_enabledSE[n3] && (qe(E2, k2.plugOutline_plugSE, n3, e3, w2.apl_plugOutline_plugSE) && (E2.plugOutlineFaceSE[n3].href.baseVal = E2.plugMaskShapeSE[n3].href.baseVal = E2.plugOutlineMaskShapeSE[n3].href.baseVal = "#" + t3.elmId, [E2.plugMaskSE[n3], E2.plugOutlineMaskSE[n3]].forEach(function(e4) {
            e4.x.baseVal.value = t3.bBox.left, e4.y.baseVal.value = t3.bBox.top, e4.width.baseVal.value = t3.bBox.width, e4.height.baseVal.value = t3.bBox.height;
          }), O2 = true), qe(E2, k2.plugOutline_colorSE, n3, x2 = b2.plugOutline_colorSE[n3], w2.apl_plugOutline_colorSE) && (E2.plugOutlineFaceSE[n3].style.fill = x2, O2 = true, se && (He(E2, E2.lineMaskCaps), He(E2, E2.lineOutlineMaskCaps))), qe(E2, k2.plugOutline_strokeWidthSE, n3, x2 = b2.plugOutline_strokeWidthSE[n3], w2.apl_plugOutline_strokeWidthSE) && (E2.plugOutlineMaskShapeSE[n3].style.strokeWidth = x2 + "px", O2 = true), qe(E2, k2.plugOutline_inStrokeWidthSE, n3, x2 = b2.plugOutline_inStrokeWidthSE[n3], w2.apl_plugOutline_inStrokeWidthSE) && (E2.plugMaskShapeSE[n3].style.strokeWidth = x2 + "px", O2 = true)));
        }), O2)), (t2.position || ee2.line || ee2.plug) && (ee2.position = Je(e2)), (t2.path || ee2.position) && (ee2.path = (C2 = (M2 = e2).curStats, L2 = M2.aplStats, A2 = M2.pathList.animVal || M2.pathList.baseVal, V2 = C2.path_edge, P2 = false, A2 && (V2.x1 = V2.x2 = A2[0][0].x, V2.y1 = V2.y2 = A2[0][0].y, C2.path_pathData = I2 = Re(A2, function(e3) {
          e3.x < V2.x1 && (V2.x1 = e3.x), e3.y < V2.y1 && (V2.y1 = e3.y), e3.x > V2.x2 && (V2.x2 = e3.x), e3.y > V2.y2 && (V2.y2 = e3.y);
        }), Ge(I2, L2.path_pathData) && (M2.linePath.setPathData(I2), L2.path_pathData = I2, P2 = true, se ? (He(M2, M2.plugsFace), He(M2, M2.lineMaskCaps)) : ue && He(M2, M2.linePath), M2.events.apl_path && M2.events.apl_path.forEach(function(e3) {
          e3(M2, I2);
        }))), P2)), ee2.viewBox = (T2 = (N2 = e2).curStats, W2 = N2.aplStats, B2 = T2.path_edge, R2 = T2.viewBox_bBox, F2 = W2.viewBox_bBox, G2 = N2.svg.viewBox.baseVal, D2 = N2.svg.style, z2 = false, j2 = Math.max(T2.line_strokeWidth / 2, T2.viewBox_plugBCircleSE[0] || 0, T2.viewBox_plugBCircleSE[1] || 0), H2 = { x1: B2.x1 - j2, y1: B2.y1 - j2, x2: B2.x2 + j2, y2: B2.y2 + j2 }, N2.events.new_edge4viewBox && N2.events.new_edge4viewBox.forEach(function(e3) {
          e3(N2, H2);
        }), R2.x = T2.lineMask_x = T2.lineOutlineMask_x = T2.maskBGRect_x = H2.x1, R2.y = T2.lineMask_y = T2.lineOutlineMask_y = T2.maskBGRect_y = H2.y1, R2.width = H2.x2 - H2.x1, R2.height = H2.y2 - H2.y1, ["x", "y", "width", "height"].forEach(function(e3) {
          var t3;
          (t3 = R2[e3]) !== F2[e3] && (G2[e3] = F2[e3] = t3, D2[oe[e3]] = t3 + ("x" === e3 || "y" === e3 ? N2.bodyOffset[e3] : 0) + "px", z2 = true);
        }), z2), ee2.mask = (Y2 = (U2 = e2).curStats, X2 = U2.aplStats, q2 = false, Y2.plug_enabled ? [0, 1].forEach(function(e3) {
          Y2.capsMaskMarker_enabledSE[e3] = Y2.plug_enabledSE[e3] && Y2.plug_colorTraSE[e3] || Y2.plugOutline_enabledSE[e3] && Y2.plugOutline_colorTraSE[e3];
        }) : Y2.capsMaskMarker_enabledSE[0] = Y2.capsMaskMarker_enabledSE[1] = false, Y2.capsMaskMarker_enabled = Y2.capsMaskMarker_enabledSE[0] || Y2.capsMaskMarker_enabledSE[1], Y2.lineMask_outlineMode = Y2.lineOutline_enabled, Y2.caps_enabled = Y2.capsMaskMarker_enabled || Y2.capsMaskAnchor_enabledSE[0] || Y2.capsMaskAnchor_enabledSE[1], Y2.lineMask_enabled = Y2.caps_enabled || Y2.lineMask_outlineMode, (Y2.lineMask_enabled && !Y2.lineMask_outlineMode || Y2.lineOutline_enabled) && ["x", "y"].forEach(function(e3) {
          var t3 = "maskBGRect_" + e3;
          qe(U2, X2, t3, Z2 = Y2[t3]) && (U2.maskBGRect[e3].baseVal.value = Z2, q2 = true);
        }), qe(U2, X2, "lineMask_enabled", Z2 = Y2.lineMask_enabled) && (U2.lineFace.style.mask = Z2 ? "url(#" + U2.lineMaskId + ")" : "none", q2 = true, pe && He(U2, U2.lineMask)), Y2.lineMask_enabled && (qe(U2, X2, "lineMask_outlineMode", Z2 = Y2.lineMask_outlineMode) && (Z2 ? (U2.lineMaskBG.style.display = "none", U2.lineMaskShape.style.display = "inline") : (U2.lineMaskBG.style.display = "inline", U2.lineMaskShape.style.display = "none"), q2 = true), ["x", "y"].forEach(function(e3) {
          var t3 = "lineMask_" + e3;
          qe(U2, X2, t3, Z2 = Y2[t3]) && (U2.lineMask[e3].baseVal.value = Z2, q2 = true);
        }), qe(U2, X2, "caps_enabled", Z2 = Y2.caps_enabled) && (U2.lineMaskCaps.style.display = U2.lineOutlineMaskCaps.style.display = Z2 ? "inline" : "none", q2 = true, pe && He(U2, U2.capsMaskLine)), Y2.caps_enabled && ([0, 1].forEach(function(e3) {
          var t3;
          qe(U2, X2.capsMaskAnchor_enabledSE, e3, Z2 = Y2.capsMaskAnchor_enabledSE[e3]) && (U2.capsMaskAnchorSE[e3].style.display = Z2 ? "inline" : "none", q2 = true, pe && He(U2, U2.lineMask)), Y2.capsMaskAnchor_enabledSE[e3] && (Ge(t3 = Y2.capsMaskAnchor_pathDataSE[e3], X2.capsMaskAnchor_pathDataSE[e3]) && (U2.capsMaskAnchorSE[e3].setPathData(t3), X2.capsMaskAnchor_pathDataSE[e3] = t3, q2 = true), qe(U2, X2.capsMaskAnchor_strokeWidthSE, e3, Z2 = Y2.capsMaskAnchor_strokeWidthSE[e3]) && (U2.capsMaskAnchorSE[e3].style.strokeWidth = Z2 + "px", q2 = true));
        }), qe(U2, X2, "capsMaskMarker_enabled", Z2 = Y2.capsMaskMarker_enabled) && (U2.capsMaskLine.style.display = Z2 ? "inline" : "none", q2 = true), Y2.capsMaskMarker_enabled && [0, 1].forEach(function(n3) {
          var e3 = Y2.capsMaskMarker_plugSE[n3], t3 = e3 !== ne ? ae[ie[e3]] : null, a3 = Ye(n3, t3);
          qe(U2, X2.capsMaskMarker_enabledSE, n3, Z2 = Y2.capsMaskMarker_enabledSE[n3]) && (U2.capsMaskLine.style[a3.prop] = Z2 ? "url(#" + U2.lineMaskMarkerIdSE[n3] + ")" : "none", q2 = true), Y2.capsMaskMarker_enabledSE[n3] && (qe(U2, X2.capsMaskMarker_plugSE, n3, e3) && (U2.capsMaskMarkerShapeSE[n3].href.baseVal = "#" + t3.elmId, Ze(U2, U2.capsMaskMarkerSE[n3], a3.orient, t3.bBox, U2.svg, U2.capsMaskMarkerShapeSE[n3], U2.capsMaskLine), q2 = true, ue && (He(U2, U2.capsMaskLine), He(U2, U2.lineFace))), ["markerWidth", "markerHeight"].forEach(function(e4) {
            var t4 = "capsMaskMarker_" + e4 + "SE";
            qe(U2, X2[t4], n3, Z2 = Y2[t4][n3]) && (U2.capsMaskMarkerSE[n3][e4].baseVal.value = Z2, q2 = true);
          }));
        }))), Y2.lineOutline_enabled && ["x", "y"].forEach(function(e3) {
          var t3 = "lineOutlineMask_" + e3;
          qe(U2, X2, t3, Z2 = Y2[t3]) && (U2.lineOutlineMask[e3].baseVal.value = Z2, q2 = true);
        }), q2), t2.effect && (J2 = (Q2 = e2).curStats, $2 = Q2.aplStats, Object.keys(te).forEach(function(e3) {
          var t3 = te[e3], n3 = e3 + "_enabled", a3 = e3 + "_options", i3 = J2[a3];
          qe(Q2, $2, n3, K2 = J2[n3]) ? (K2 && ($2[a3] = Oe(i3)), t3[K2 ? "init" : "remove"](Q2)) : K2 && we(i3, $2[a3]) && (t3.remove(Q2), $2[n3] = true, $2[a3] = Oe(i3), t3.init(Q2));
        })), (he || pe) && ee2.line && !ee2.path && He(e2, e2.lineShape), he && ee2.plug && !ee2.line && He(e2, e2.plugsFace), Ue(e2);
      }
      function tt(e2, t2) {
        return { duration: ye(e2.duration) && 0 < e2.duration ? e2.duration : t2.duration, timing: g.validTiming(e2.timing) ? e2.timing : Oe(t2.timing) };
      }
      function nt(e2, t2, n2, a2) {
        var i2, o2 = e2.curStats, l2 = e2.aplStats, r2 = {};
        function s2() {
          ["show_on", "show_effect", "show_animOptions"].forEach(function(e3) {
            l2[e3] = o2[e3];
          });
        }
        o2.show_on = t2, n2 && M[n2] && (o2.show_effect = n2, o2.show_animOptions = tt(fe(a2) ? a2 : {}, M[n2].defaultAnimOptions)), r2.show_on = o2.show_on !== l2.show_on, r2.show_effect = o2.show_effect !== l2.show_effect, r2.show_animOptions = we(o2.show_animOptions, l2.show_animOptions), r2.show_effect || r2.show_animOptions ? o2.show_inAnim ? (i2 = r2.show_effect ? M[l2.show_effect].stop(e2, true, true) : M[l2.show_effect].stop(e2), s2(), M[l2.show_effect].init(e2, i2)) : r2.show_on && (l2.show_effect && r2.show_effect && M[l2.show_effect].stop(e2, true, true), s2(), M[l2.show_effect].init(e2)) : r2.show_on && (s2(), M[l2.show_effect].start(e2));
      }
      function at(e2, t2, n2) {
        var a2 = { props: e2, optionName: n2 };
        return e2.attachments.indexOf(t2) < 0 && (!t2.conf.bind || t2.conf.bind(t2, a2)) && (e2.attachments.push(t2), t2.boundTargets.push(a2), 1);
      }
      function it(n2, a2, e2) {
        var i2 = n2.attachments.indexOf(a2);
        -1 < i2 && n2.attachments.splice(i2, 1), a2.boundTargets.some(function(e3, t2) {
          return e3.props === n2 && (a2.conf.unbind && a2.conf.unbind(a2, e3), i2 = t2, true);
        }) && (a2.boundTargets.splice(i2, 1), e2 || je(function() {
          a2.boundTargets.length || o(a2);
        }));
      }
      function ot(s2, u2) {
        var e2, i2, a2, t2, n2, o2, l2, r2, h2, p2, c2, d2, f2, y2, m2, S2, g2, _2 = s2.options, v2 = {};
        function E2(e3, t3, n3, a3, i3) {
          var o3 = {};
          return n3 ? null != a3 ? (o3.container = e3[n3], o3.key = a3) : (o3.container = e3, o3.key = n3) : (o3.container = e3, o3.key = t3), o3.default = i3, o3.acceptsAuto = null == o3.default, o3;
        }
        function x2(e3, t3, n3, a3, i3, o3, l3) {
          var r3, s3, u3, h3 = E2(e3, n3, i3, o3, l3);
          return null != t3[n3] && (s3 = (t3[n3] + "").toLowerCase()) && (h3.acceptsAuto && s3 === U || (u3 = a3[s3])) && u3 !== h3.container[h3.key] && (h3.container[h3.key] = u3, r3 = true), null != h3.container[h3.key] || h3.acceptsAuto || (h3.container[h3.key] = h3.default, r3 = true), r3;
        }
        function b2(e3, t3, n3, a3, i3, o3, l3, r3, s3) {
          var u3, h3, p3, c3, d3 = E2(e3, n3, i3, o3, l3);
          if (!a3) {
            if (null == d3.default)
              throw new Error("Invalid `type`: " + n3);
            a3 = typeof d3.default;
          }
          return null != t3[n3] && (d3.acceptsAuto && (t3[n3] + "").toLowerCase() === U || (p3 = h3 = t3[n3], ("number" === (c3 = a3) ? ye(p3) : typeof p3 === c3) && (h3 = s3 && "string" === a3 && h3 ? h3.trim() : h3, 1) && (!r3 || r3(h3)))) && h3 !== d3.container[d3.key] && (d3.container[d3.key] = h3, u3 = true), null != d3.container[d3.key] || d3.acceptsAuto || (d3.container[d3.key] = d3.default, u3 = true), u3;
        }
        if (u2 = u2 || {}, ["start", "end"].forEach(function(e3, t3) {
          var n3 = u2[e3], a3 = false;
          if (n3 && (Ie(n3) || (a3 = L(n3, "anchor"))) && n3 !== _2.anchorSE[t3]) {
            if (false !== s2.optionIsAttach.anchorSE[t3] && it(s2, ve[_2.anchorSE[t3]._id]), a3 && !at(s2, ve[n3._id], e3))
              throw new Error("Can't bind attachment");
            _2.anchorSE[t3] = n3, s2.optionIsAttach.anchorSE[t3] = a3, i2 = v2.position = true;
          }
        }), !_2.anchorSE[0] || !_2.anchorSE[1] || _2.anchorSE[0] === _2.anchorSE[1])
          throw new Error("`start` and `end` are required.");
        function k2(e3) {
          var t3 = o2.appendChild(S2.createElementNS(re, "mask"));
          return t3.id = e3, t3.maskUnits.baseVal = SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE, [t3.x, t3.y, t3.width, t3.height].forEach(function(e4) {
            e4.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, 0);
          }), t3;
        }
        function w2(e3) {
          var t3 = o2.appendChild(S2.createElementNS(re, "marker"));
          return t3.id = e3, t3.markerUnits.baseVal = SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH, t3.viewBox.baseVal || t3.setAttribute("viewBox", "0 0 0 0"), t3;
        }
        function O2(e3) {
          return [e3.width, e3.height].forEach(function(e4) {
            e4.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE, 100);
          }), e3;
        }
        i2 && (e2 = function(e3, t3) {
          var n3, a3, i3;
          if (!(n3 = Le(e3)) || !(a3 = Le(t3)))
            throw new Error("Cannot get frames.");
          return n3.length && a3.length && (n3.reverse(), a3.reverse(), n3.some(function(t4) {
            return a3.some(function(e4) {
              return e4 === t4 && (i3 = e4.contentWindow, true);
            });
          })), i3 || window;
        }(false !== s2.optionIsAttach.anchorSE[0] ? ve[_2.anchorSE[0]._id].element : _2.anchorSE[0], false !== s2.optionIsAttach.anchorSE[1] ? ve[_2.anchorSE[1]._id].element : _2.anchorSE[1])) !== s2.baseWindow && (t2 = e2, m2 = (a2 = s2).aplStats, S2 = t2.document, g2 = A + "-" + a2._id, a2.pathList = {}, Xe(m2, me), Object.keys(te).forEach(function(e3) {
          var t3 = e3 + "_enabled";
          m2[t3] && (te[e3].remove(a2), m2[t3] = false);
        }), a2.baseWindow && a2.svg && a2.baseWindow.document.body.removeChild(a2.svg), Ke(a2.baseWindow = t2), a2.bodyOffset = Qe(t2), a2.svg = n2 = S2.createElementNS(re, "svg"), n2.className.baseVal = A, n2.viewBox.baseVal || n2.setAttribute("viewBox", "0 0 0 0"), a2.defs = o2 = n2.appendChild(S2.createElementNS(re, "defs")), a2.linePath = r2 = o2.appendChild(S2.createElementNS(re, "path")), r2.id = h2 = g2 + "-line-path", r2.className.baseVal = A + "-line-path", pe && (r2.style.fill = "none"), a2.lineShape = r2 = o2.appendChild(S2.createElementNS(re, "use")), r2.id = p2 = g2 + "-line-shape", r2.href.baseVal = "#" + h2, (l2 = o2.appendChild(S2.createElementNS(re, "g"))).id = c2 = g2 + "-caps", a2.capsMaskAnchorSE = [0, 1].map(function() {
          var e3 = l2.appendChild(S2.createElementNS(re, "path"));
          return e3.className.baseVal = A + "-caps-mask-anchor", e3;
        }), a2.lineMaskMarkerIdSE = [g2 + "-caps-mask-marker-0", g2 + "-caps-mask-marker-1"], a2.capsMaskMarkerSE = [0, 1].map(function(e3) {
          return w2(a2.lineMaskMarkerIdSE[e3]);
        }), a2.capsMaskMarkerShapeSE = [0, 1].map(function(e3) {
          var t3 = a2.capsMaskMarkerSE[e3].appendChild(S2.createElementNS(re, "use"));
          return t3.className.baseVal = A + "-caps-mask-marker-shape", t3;
        }), a2.capsMaskLine = r2 = l2.appendChild(S2.createElementNS(re, "use")), r2.className.baseVal = A + "-caps-mask-line", r2.href.baseVal = "#" + p2, a2.maskBGRect = r2 = O2(o2.appendChild(S2.createElementNS(re, "rect"))), r2.id = d2 = g2 + "-mask-bg-rect", r2.className.baseVal = A + "-mask-bg-rect", pe && (r2.style.fill = "white"), a2.lineMask = O2(k2(a2.lineMaskId = g2 + "-line-mask")), a2.lineMaskBG = r2 = a2.lineMask.appendChild(S2.createElementNS(re, "use")), r2.href.baseVal = "#" + d2, a2.lineMaskShape = r2 = a2.lineMask.appendChild(S2.createElementNS(re, "use")), r2.className.baseVal = A + "-line-mask-shape", r2.href.baseVal = "#" + h2, r2.style.display = "none", a2.lineMaskCaps = r2 = a2.lineMask.appendChild(S2.createElementNS(re, "use")), r2.href.baseVal = "#" + c2, a2.lineOutlineMask = O2(k2(f2 = g2 + "-line-outline-mask")), (r2 = a2.lineOutlineMask.appendChild(S2.createElementNS(re, "use"))).href.baseVal = "#" + d2, a2.lineOutlineMaskShape = r2 = a2.lineOutlineMask.appendChild(S2.createElementNS(re, "use")), r2.className.baseVal = A + "-line-outline-mask-shape", r2.href.baseVal = "#" + h2, a2.lineOutlineMaskCaps = r2 = a2.lineOutlineMask.appendChild(S2.createElementNS(re, "use")), r2.href.baseVal = "#" + c2, a2.face = n2.appendChild(S2.createElementNS(re, "g")), a2.lineFace = r2 = a2.face.appendChild(S2.createElementNS(re, "use")), r2.href.baseVal = "#" + p2, a2.lineOutlineFace = r2 = a2.face.appendChild(S2.createElementNS(re, "use")), r2.href.baseVal = "#" + p2, r2.style.mask = "url(#" + f2 + ")", r2.style.display = "none", a2.plugMaskIdSE = [g2 + "-plug-mask-0", g2 + "-plug-mask-1"], a2.plugMaskSE = [0, 1].map(function(e3) {
          return k2(a2.plugMaskIdSE[e3]);
        }), a2.plugMaskShapeSE = [0, 1].map(function(e3) {
          var t3 = a2.plugMaskSE[e3].appendChild(S2.createElementNS(re, "use"));
          return t3.className.baseVal = A + "-plug-mask-shape", t3;
        }), y2 = [], a2.plugOutlineMaskSE = [0, 1].map(function(e3) {
          return k2(y2[e3] = g2 + "-plug-outline-mask-" + e3);
        }), a2.plugOutlineMaskShapeSE = [0, 1].map(function(e3) {
          var t3 = a2.plugOutlineMaskSE[e3].appendChild(S2.createElementNS(re, "use"));
          return t3.className.baseVal = A + "-plug-outline-mask-shape", t3;
        }), a2.plugMarkerIdSE = [g2 + "-plug-marker-0", g2 + "-plug-marker-1"], a2.plugMarkerSE = [0, 1].map(function(e3) {
          var t3 = w2(a2.plugMarkerIdSE[e3]);
          return pe && (t3.markerUnits.baseVal = SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE), t3;
        }), a2.plugMarkerShapeSE = [0, 1].map(function(e3) {
          return a2.plugMarkerSE[e3].appendChild(S2.createElementNS(re, "g"));
        }), a2.plugFaceSE = [0, 1].map(function(e3) {
          return a2.plugMarkerShapeSE[e3].appendChild(S2.createElementNS(re, "use"));
        }), a2.plugOutlineFaceSE = [0, 1].map(function(e3) {
          var t3 = a2.plugMarkerShapeSE[e3].appendChild(S2.createElementNS(re, "use"));
          return t3.style.mask = "url(#" + y2[e3] + ")", t3.style.display = "none", t3;
        }), a2.plugsFace = r2 = a2.face.appendChild(S2.createElementNS(re, "use")), r2.className.baseVal = A + "-plugs-face", r2.href.baseVal = "#" + p2, r2.style.display = "none", a2.curStats.show_inAnim ? (a2.isShown = 1, M[m2.show_effect].stop(a2, true)) : a2.isShown || (n2.style.visibility = "hidden"), S2.body.appendChild(n2), [0, 1, 2].forEach(function(e3) {
          var t3, n3 = a2.options.labelSEM[e3];
          n3 && L(n3, "label") && (t3 = ve[n3._id]).conf.initSvg && t3.conf.initSvg(t3, a2);
        }), v2.line = v2.plug = v2.lineOutline = v2.plugOutline = v2.faces = v2.effect = true), v2.position = x2(_2, u2, "path", z, null, null, de.path) || v2.position, v2.position = x2(_2, u2, "startSocket", W, "socketSE", 0) || v2.position, v2.position = x2(_2, u2, "endSocket", W, "socketSE", 1) || v2.position, [u2.startSocketGravity, u2.endSocketGravity].forEach(function(e3, t3) {
          var n3, a3, i3 = false;
          null != e3 && (Array.isArray(e3) ? ye(e3[0]) && ye(e3[1]) && (i3 = [e3[0], e3[1]], Array.isArray(_2.socketGravitySE[t3]) && (n3 = i3, a3 = _2.socketGravitySE[t3], n3.length === a3.length && n3.every(function(e4, t4) {
            return e4 === a3[t4];
          })) && (i3 = false)) : ((e3 + "").toLowerCase() === U ? i3 = null : ye(e3) && 0 <= e3 && (i3 = e3), i3 === _2.socketGravitySE[t3] && (i3 = false)), false !== i3 && (_2.socketGravitySE[t3] = i3, v2.position = true));
        }), v2.line = b2(_2, u2, "color", null, "lineColor", null, de.lineColor, null, true) || v2.line, v2.line = b2(_2, u2, "size", null, "lineSize", null, de.lineSize, function(e3) {
          return 0 < e3;
        }) || v2.line, ["startPlug", "endPlug"].forEach(function(e3, t3) {
          v2.plug = x2(_2, u2, e3, j, "plugSE", t3, de.plugSE[t3]) || v2.plug, v2.plug = b2(_2, u2, e3 + "Color", "string", "plugColorSE", t3, null, null, true) || v2.plug, v2.plug = b2(_2, u2, e3 + "Size", null, "plugSizeSE", t3, de.plugSizeSE[t3], function(e4) {
            return 0 < e4;
          }) || v2.plug;
        }), v2.lineOutline = b2(_2, u2, "outline", null, "lineOutlineEnabled", null, de.lineOutlineEnabled) || v2.lineOutline, v2.lineOutline = b2(_2, u2, "outlineColor", null, "lineOutlineColor", null, de.lineOutlineColor, null, true) || v2.lineOutline, v2.lineOutline = b2(_2, u2, "outlineSize", null, "lineOutlineSize", null, de.lineOutlineSize, function(e3) {
          return 0 < e3 && e3 <= 0.48;
        }) || v2.lineOutline, ["startPlugOutline", "endPlugOutline"].forEach(function(e3, t3) {
          v2.plugOutline = b2(_2, u2, e3, null, "plugOutlineEnabledSE", t3, de.plugOutlineEnabledSE[t3]) || v2.plugOutline, v2.plugOutline = b2(_2, u2, e3 + "Color", "string", "plugOutlineColorSE", t3, null, null, true) || v2.plugOutline, v2.plugOutline = b2(_2, u2, e3 + "Size", null, "plugOutlineSizeSE", t3, de.plugOutlineSizeSE[t3], function(e4) {
            return 1 <= e4;
          }) || v2.plugOutline;
        }), ["startLabel", "endLabel", "middleLabel"].forEach(function(e3, t3) {
          var n3, a3, i3, o3 = u2[e3], l3 = _2.labelSEM[t3] && !s2.optionIsAttach.labelSEM[t3] ? ve[_2.labelSEM[t3]._id].text : _2.labelSEM[t3], r3 = false;
          if ((n3 = "string" == typeof o3) && (o3 = o3.trim()), (n3 || o3 && (r3 = L(o3, "label"))) && o3 !== l3) {
            if (_2.labelSEM[t3] && (it(s2, ve[_2.labelSEM[t3]._id]), _2.labelSEM[t3] = ""), o3) {
              if (r3 ? (a3 = ve[(i3 = o3)._id]).boundTargets.slice().forEach(function(e4) {
                a3.conf.removeOption(a3, e4);
              }) : i3 = new C(I.captionLabel, [o3]), !at(s2, ve[i3._id], e3))
                throw new Error("Can't bind attachment");
              _2.labelSEM[t3] = i3;
            }
            s2.optionIsAttach.labelSEM[t3] = r3;
          }
        }), Object.keys(te).forEach(function(a3) {
          var e3, t3, o3 = te[a3], n3 = a3 + "_enabled", i3 = a3 + "_options";
          function l3(a4) {
            var i4 = {};
            return o3.optionsConf.forEach(function(e4) {
              var t4 = e4[0], n4 = e4[3];
              null == e4[4] || i4[n4] || (i4[n4] = []), ("function" == typeof t4 ? t4 : "id" === t4 ? x2 : b2).apply(null, [i4, a4].concat(e4.slice(1)));
            }), i4;
          }
          function r3(e4) {
            var t4, n4 = a3 + "_animOptions";
            return e4.hasOwnProperty("animation") ? fe(e4.animation) ? t4 = s2.curStats[n4] = tt(e4.animation, o3.defaultAnimOptions) : (t4 = !!e4.animation, s2.curStats[n4] = t4 ? tt({}, o3.defaultAnimOptions) : null) : (t4 = !!o3.defaultEnabled, s2.curStats[n4] = t4 ? tt({}, o3.defaultAnimOptions) : null), t4;
          }
          u2.hasOwnProperty(a3) && (e3 = u2[a3], fe(e3) ? (s2.curStats[n3] = true, t3 = s2.curStats[i3] = l3(e3), o3.anim && (s2.curStats[i3].animation = r3(e3))) : (t3 = s2.curStats[n3] = !!e3) && (s2.curStats[i3] = l3({}), o3.anim && (s2.curStats[i3].animation = r3({}))), we(t3, _2[a3]) && (_2[a3] = t3, v2.effect = true));
        }), et(s2, v2);
      }
      function lt(e2, t2, n2) {
        var a2 = { options: { anchorSE: [], socketSE: [], socketGravitySE: [], plugSE: [], plugColorSE: [], plugSizeSE: [], plugOutlineEnabledSE: [], plugOutlineColorSE: [], plugOutlineSizeSE: [], labelSEM: ["", "", ""] }, optionIsAttach: { anchorSE: [false, false], labelSEM: [false, false, false] }, curStats: {}, aplStats: {}, attachments: [], events: {}, reflowTargets: [] };
        Xe(a2.curStats, me), Xe(a2.aplStats, me), Object.keys(te).forEach(function(e3) {
          var t3 = te[e3].stats;
          Xe(a2.curStats, t3), Xe(a2.aplStats, t3), a2.options[e3] = false;
        }), Xe(a2.curStats, E), Xe(a2.aplStats, E), a2.curStats.show_effect = O, a2.curStats.show_animOptions = Oe(M[O].defaultAnimOptions), Object.defineProperty(this, "_id", { value: ++_e }), a2._id = this._id, ge[this._id] = a2, 1 === arguments.length && (n2 = e2, e2 = null), n2 = n2 || {}, (e2 || t2) && (n2 = Oe(n2), e2 && (n2.start = e2), t2 && (n2.end = t2)), a2.isShown = a2.aplStats.show_on = !n2.hide, this.setOptions(n2);
      }
      function rt(n2) {
        return function(e2) {
          var t2 = {};
          t2[n2] = e2, this.setOptions(t2);
        };
      }
      function st(e2, t2) {
        var n2, a2 = { conf: e2, curStats: {}, aplStats: {}, boundTargets: [] }, i2 = {};
        e2.argOptions.every(function(e3) {
          return !(!t2.length || ("string" == typeof e3.type ? typeof t2[0] !== e3.type : "function" != typeof e3.type || !e3.type(t2[0]))) && (i2[e3.optionName] = t2.shift(), true);
        }), n2 = t2.length && fe(t2[0]) ? Oe(t2[0]) : {}, Object.keys(i2).forEach(function(e3) {
          n2[e3] = i2[e3];
        }), e2.stats && (Xe(a2.curStats, e2.stats), Xe(a2.aplStats, e2.stats)), Object.defineProperty(this, "_id", { value: ++Ee }), Object.defineProperty(this, "isRemoved", { get: function() {
          return !ve[this._id];
        } }), a2._id = this._id, e2.init && !e2.init(a2, n2) || (ve[this._id] = a2);
      }
      return te = { dash: { stats: { dash_len: {}, dash_gap: {}, dash_maxOffset: {} }, anim: true, defaultAnimOptions: { duration: 1e3, timing: "linear" }, optionsConf: [["type", "len", "number", null, null, null, function(e2) {
        return 0 < e2;
      }], ["type", "gap", "number", null, null, null, function(e2) {
        return 0 < e2;
      }]], init: function(e2) {
        De(e2, "apl_line_strokeWidth", te.dash.update), e2.lineFace.style.strokeDashoffset = 0, te.dash.update(e2);
      }, remove: function(e2) {
        var t2 = e2.curStats;
        ze(e2, "apl_line_strokeWidth", te.dash.update), t2.dash_animId && (g.remove(t2.dash_animId), t2.dash_animId = null), e2.lineFace.style.strokeDasharray = "none", e2.lineFace.style.strokeDashoffset = 0, Xe(e2.aplStats, te.dash.stats);
      }, update: function(t2) {
        var e2, n2 = t2.curStats, a2 = t2.aplStats, i2 = a2.dash_options, o2 = false;
        n2.dash_len = i2.len || 2 * a2.line_strokeWidth, n2.dash_gap = i2.gap || a2.line_strokeWidth, n2.dash_maxOffset = n2.dash_len + n2.dash_gap, o2 = qe(t2, a2, "dash_len", n2.dash_len) || o2, (o2 = qe(t2, a2, "dash_gap", n2.dash_gap) || o2) && (t2.lineFace.style.strokeDasharray = a2.dash_len + "," + a2.dash_gap), n2.dash_animOptions ? (o2 = qe(t2, a2, "dash_maxOffset", n2.dash_maxOffset), a2.dash_animOptions && (o2 || we(n2.dash_animOptions, a2.dash_animOptions)) && (n2.dash_animId && (e2 = g.stop(n2.dash_animId), g.remove(n2.dash_animId)), a2.dash_animOptions = null), a2.dash_animOptions || (n2.dash_animId = g.add(function(e3) {
          return (1 - e3) * a2.dash_maxOffset + "px";
        }, function(e3) {
          t2.lineFace.style.strokeDashoffset = e3;
        }, n2.dash_animOptions.duration, 0, n2.dash_animOptions.timing, false, e2), a2.dash_animOptions = Oe(n2.dash_animOptions))) : a2.dash_animOptions && (n2.dash_animId && (g.remove(n2.dash_animId), n2.dash_animId = null), t2.lineFace.style.strokeDashoffset = 0, a2.dash_animOptions = null);
      } }, gradient: { stats: { gradient_colorSE: { hasSE: true }, gradient_pointSE: { hasSE: true, hasProps: true } }, optionsConf: [["type", "startColor", "string", "colorSE", 0, null, null, true], ["type", "endColor", "string", "colorSE", 1, null, null, true]], init: function(e2) {
        var t2, a2 = e2.baseWindow.document, n2 = e2.defs, i2 = A + "-" + e2._id + "-gradient";
        e2.efc_gradient_gradient = t2 = n2.appendChild(a2.createElementNS(re, "linearGradient")), t2.id = i2, t2.gradientUnits.baseVal = SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE, [t2.x1, t2.y1, t2.x2, t2.y2].forEach(function(e3) {
          e3.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, 0);
        }), e2.efc_gradient_stopSE = [0, 1].map(function(t3) {
          var n3 = e2.efc_gradient_gradient.appendChild(a2.createElementNS(re, "stop"));
          try {
            n3.offset.baseVal = t3;
          } catch (e3) {
            if (e3.code !== DOMException.NO_MODIFICATION_ALLOWED_ERR)
              throw e3;
            n3.setAttribute("offset", t3);
          }
          return n3;
        }), De(e2, "cur_plug_colorSE", te.gradient.update), De(e2, "apl_path", te.gradient.update), e2.curStats.line_altColor = true, e2.lineFace.style.stroke = "url(#" + i2 + ")", te.gradient.update(e2);
      }, remove: function(e2) {
        e2.efc_gradient_gradient && (e2.defs.removeChild(e2.efc_gradient_gradient), e2.efc_gradient_gradient = e2.efc_gradient_stopSE = null), ze(e2, "cur_plug_colorSE", te.gradient.update), ze(e2, "apl_path", te.gradient.update), e2.curStats.line_altColor = false, e2.lineFace.style.stroke = e2.curStats.line_color, Xe(e2.aplStats, te.gradient.stats);
      }, update: function(a2) {
        var e2, t2, i2 = a2.curStats, o2 = a2.aplStats, n2 = o2.gradient_options, l2 = a2.pathList.animVal || a2.pathList.baseVal;
        [0, 1].forEach(function(e3) {
          i2.gradient_colorSE[e3] = n2.colorSE[e3] || i2.plug_colorSE[e3];
        }), t2 = l2[0][0], i2.gradient_pointSE[0] = { x: t2.x, y: t2.y }, t2 = (e2 = l2[l2.length - 1])[e2.length - 1], i2.gradient_pointSE[1] = { x: t2.x, y: t2.y }, [0, 1].forEach(function(t3) {
          var n3;
          qe(a2, o2.gradient_colorSE, t3, n3 = i2.gradient_colorSE[t3]) && (pe ? (n3 = Me(n3), a2.efc_gradient_stopSE[t3].style.stopColor = n3[1], a2.efc_gradient_stopSE[t3].style.stopOpacity = n3[0]) : a2.efc_gradient_stopSE[t3].style.stopColor = n3), ["x", "y"].forEach(function(e3) {
            (n3 = i2.gradient_pointSE[t3][e3]) !== o2.gradient_pointSE[t3][e3] && (a2.efc_gradient_gradient[e3 + (t3 + 1)].baseVal.value = o2.gradient_pointSE[t3][e3] = n3);
          });
        });
      } }, dropShadow: { stats: { dropShadow_dx: {}, dropShadow_dy: {}, dropShadow_blur: {}, dropShadow_color: {}, dropShadow_opacity: {}, dropShadow_x: {}, dropShadow_y: {} }, optionsConf: [["type", "dx", null, null, null, 2], ["type", "dy", null, null, null, 4], ["type", "blur", null, null, null, 3, function(e2) {
        return 0 <= e2;
      }], ["type", "color", null, null, null, "#000", null, true], ["type", "opacity", null, null, null, 0.8, function(e2) {
        return 0 <= e2 && e2 <= 1;
      }]], init: function(t2) {
        var e2, n2, a2, i2, o2, l2 = t2.baseWindow.document, r2 = t2.defs, s2 = A + "-" + t2._id + "-dropShadow", u2 = (e2 = l2, n2 = s2, o2 = {}, "boolean" != typeof p && (p = !!window.SVGFEDropShadowElement && !pe), o2.elmsAppend = [o2.elmFilter = a2 = e2.createElementNS(re, "filter")], a2.filterUnits.baseVal = SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE, a2.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, 0), a2.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, 0), a2.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE, 100), a2.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE, 100), a2.id = n2, p ? (o2.elmOffset = o2.elmBlur = i2 = a2.appendChild(e2.createElementNS(re, "feDropShadow")), o2.styleFlood = i2.style) : (o2.elmBlur = a2.appendChild(e2.createElementNS(re, "feGaussianBlur")), o2.elmOffset = i2 = a2.appendChild(e2.createElementNS(re, "feOffset")), i2.result.baseVal = "offsetblur", i2 = a2.appendChild(e2.createElementNS(re, "feFlood")), o2.styleFlood = i2.style, (i2 = a2.appendChild(e2.createElementNS(re, "feComposite"))).in2.baseVal = "offsetblur", i2.operator.baseVal = SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN, (i2 = a2.appendChild(e2.createElementNS(re, "feMerge"))).appendChild(e2.createElementNS(re, "feMergeNode")), i2.appendChild(e2.createElementNS(re, "feMergeNode")).in1.baseVal = "SourceGraphic"), o2);
        ["elmFilter", "elmOffset", "elmBlur", "styleFlood", "elmsAppend"].forEach(function(e3) {
          t2["efc_dropShadow_" + e3] = u2[e3];
        }), u2.elmsAppend.forEach(function(e3) {
          r2.appendChild(e3);
        }), t2.face.setAttribute("filter", "url(#" + s2 + ")"), De(t2, "new_edge4viewBox", te.dropShadow.adjustEdge), te.dropShadow.update(t2);
      }, remove: function(e2) {
        var t2 = e2.defs;
        e2.efc_dropShadow_elmsAppend && (e2.efc_dropShadow_elmsAppend.forEach(function(e3) {
          t2.removeChild(e3);
        }), e2.efc_dropShadow_elmFilter = e2.efc_dropShadow_elmOffset = e2.efc_dropShadow_elmBlur = e2.efc_dropShadow_styleFlood = e2.efc_dropShadow_elmsAppend = null), ze(e2, "new_edge4viewBox", te.dropShadow.adjustEdge), et(e2, {}), e2.face.removeAttribute("filter"), Xe(e2.aplStats, te.dropShadow.stats);
      }, update: function(e2) {
        var t2, n2, a2 = e2.curStats, i2 = e2.aplStats, o2 = i2.dropShadow_options;
        a2.dropShadow_dx = t2 = o2.dx, qe(e2, i2, "dropShadow_dx", t2) && (e2.efc_dropShadow_elmOffset.dx.baseVal = t2, n2 = true), a2.dropShadow_dy = t2 = o2.dy, qe(e2, i2, "dropShadow_dy", t2) && (e2.efc_dropShadow_elmOffset.dy.baseVal = t2, n2 = true), a2.dropShadow_blur = t2 = o2.blur, qe(e2, i2, "dropShadow_blur", t2) && (e2.efc_dropShadow_elmBlur.setStdDeviation(t2, t2), n2 = true), n2 && et(e2, {}), a2.dropShadow_color = t2 = o2.color, qe(e2, i2, "dropShadow_color", t2) && (e2.efc_dropShadow_styleFlood.floodColor = t2), a2.dropShadow_opacity = t2 = o2.opacity, qe(e2, i2, "dropShadow_opacity", t2) && (e2.efc_dropShadow_styleFlood.floodOpacity = t2);
      }, adjustEdge: function(a2, i2) {
        var e2, t2, o2 = a2.curStats, l2 = a2.aplStats;
        null != o2.dropShadow_dx && (e2 = 3 * o2.dropShadow_blur, (t2 = { x1: i2.x1 - e2 + o2.dropShadow_dx, y1: i2.y1 - e2 + o2.dropShadow_dy, x2: i2.x2 + e2 + o2.dropShadow_dx, y2: i2.y2 + e2 + o2.dropShadow_dy }).x1 < i2.x1 && (i2.x1 = t2.x1), t2.y1 < i2.y1 && (i2.y1 = t2.y1), t2.x2 > i2.x2 && (i2.x2 = t2.x2), t2.y2 > i2.y2 && (i2.y2 = t2.y2), ["x", "y"].forEach(function(e3) {
          var t3, n2 = "dropShadow_" + e3;
          o2[n2] = t3 = i2[e3 + "1"], qe(a2, l2, n2, t3) && (a2.efc_dropShadow_elmFilter[e3].baseVal.value = t3);
        }));
      } } }, Object.keys(te).forEach(function(e2) {
        var t2 = te[e2], n2 = t2.stats;
        n2[e2 + "_enabled"] = { iniValue: false }, n2[e2 + "_options"] = { hasProps: true }, t2.anim && (n2[e2 + "_animOptions"] = {}, n2[e2 + "_animId"] = {});
      }), M = { none: { defaultAnimOptions: {}, init: function(e2, t2) {
        var n2 = e2.curStats;
        n2.show_animId && (g.remove(n2.show_animId), n2.show_animId = null), M.none.start(e2, t2);
      }, start: function(e2, t2) {
        M.none.stop(e2, true);
      }, stop: function(e2, t2, n2) {
        var a2 = e2.curStats;
        return n2 = null != n2 ? n2 : e2.aplStats.show_on, a2.show_inAnim = false, t2 && $e(e2, n2), n2 ? 1 : 0;
      } }, fade: { defaultAnimOptions: { duration: 300, timing: "linear" }, init: function(n2, e2) {
        var t2 = n2.curStats, a2 = n2.aplStats;
        t2.show_animId && g.remove(t2.show_animId), t2.show_animId = g.add(function(e3) {
          return e3;
        }, function(e3, t3) {
          t3 ? M.fade.stop(n2, true) : (n2.svg.style.opacity = e3 + "", se && (He(n2, n2.svg), Ue(n2)));
        }, a2.show_animOptions.duration, 1, a2.show_animOptions.timing, null, false), M.fade.start(n2, e2);
      }, start: function(e2, t2) {
        var n2, a2 = e2.curStats;
        a2.show_inAnim && (n2 = g.stop(a2.show_animId)), $e(e2, 1), a2.show_inAnim = true, g.start(a2.show_animId, !e2.aplStats.show_on, null != t2 ? t2 : n2);
      }, stop: function(e2, t2, n2) {
        var a2, i2 = e2.curStats;
        return n2 = null != n2 ? n2 : e2.aplStats.show_on, a2 = i2.show_inAnim ? g.stop(i2.show_animId) : n2 ? 1 : 0, i2.show_inAnim = false, t2 && (e2.svg.style.opacity = n2 ? "" : "0", $e(e2, n2)), a2;
      } }, draw: { defaultAnimOptions: { duration: 500, timing: [0.58, 0, 0.42, 1] }, init: function(n2, e2) {
        var t2 = n2.curStats, a2 = n2.aplStats, l2 = n2.pathList.baseVal, i2 = Fe(l2), r2 = i2.segsLen, s2 = i2.lenAll;
        t2.show_animId && g.remove(t2.show_animId), t2.show_animId = g.add(function(e3) {
          var t3, n3, a3, i3, o2 = -1;
          if (0 === e3)
            n3 = [[l2[0][0], l2[0][0]]];
          else if (1 === e3)
            n3 = l2;
          else {
            for (t3 = s2 * e3, n3 = []; t3 >= r2[++o2]; )
              n3.push(l2[o2]), t3 -= r2[o2];
            t3 && (2 === (a3 = l2[o2]).length ? n3.push([a3[0], Pe(a3[0], a3[1], t3 / r2[o2])]) : (i3 = Te(a3[0], a3[1], a3[2], a3[3], Be(a3[0], a3[1], a3[2], a3[3], t3)), n3.push([a3[0], i3.fromP1, i3.fromP2, i3])));
          }
          return n3;
        }, function(e3, t3) {
          t3 ? M.draw.stop(n2, true) : (n2.pathList.animVal = e3, et(n2, { path: true }));
        }, a2.show_animOptions.duration, 1, a2.show_animOptions.timing, null, false), M.draw.start(n2, e2);
      }, start: function(e2, t2) {
        var n2, a2 = e2.curStats;
        a2.show_inAnim && (n2 = g.stop(a2.show_animId)), $e(e2, 1), a2.show_inAnim = true, De(e2, "apl_position", M.draw.update), g.start(a2.show_animId, !e2.aplStats.show_on, null != t2 ? t2 : n2);
      }, stop: function(e2, t2, n2) {
        var a2, i2 = e2.curStats;
        return n2 = null != n2 ? n2 : e2.aplStats.show_on, a2 = i2.show_inAnim ? g.stop(i2.show_animId) : n2 ? 1 : 0, i2.show_inAnim = false, t2 && (e2.pathList.animVal = n2 ? null : [[e2.pathList.baseVal[0][0], e2.pathList.baseVal[0][0]]], et(e2, { path: true }), $e(e2, n2)), a2;
      }, update: function(e2) {
        ze(e2, "apl_position", M.draw.update), e2.curStats.show_inAnim ? M.draw.init(e2, M.draw.stop(e2)) : e2.aplStats.show_animOptions = {};
      } } }, [["start", "anchorSE", 0], ["end", "anchorSE", 1], ["color", "lineColor"], ["size", "lineSize"], ["startSocketGravity", "socketGravitySE", 0], ["endSocketGravity", "socketGravitySE", 1], ["startPlugColor", "plugColorSE", 0], ["endPlugColor", "plugColorSE", 1], ["startPlugSize", "plugSizeSE", 0], ["endPlugSize", "plugSizeSE", 1], ["outline", "lineOutlineEnabled"], ["outlineColor", "lineOutlineColor"], ["outlineSize", "lineOutlineSize"], ["startPlugOutline", "plugOutlineEnabledSE", 0], ["endPlugOutline", "plugOutlineEnabledSE", 1], ["startPlugOutlineColor", "plugOutlineColorSE", 0], ["endPlugOutlineColor", "plugOutlineColorSE", 1], ["startPlugOutlineSize", "plugOutlineSizeSE", 0], ["endPlugOutlineSize", "plugOutlineSizeSE", 1]].forEach(function(e2) {
        var t2 = e2[0], n2 = e2[1], a2 = e2[2];
        Object.defineProperty(lt.prototype, t2, { get: function() {
          var e3 = null != a2 ? ge[this._id].options[n2][a2] : n2 ? ge[this._id].options[n2] : ge[this._id].options[t2];
          return null == e3 ? U : Oe(e3);
        }, set: rt(t2), enumerable: true });
      }), [["path", z], ["startSocket", W, "socketSE", 0], ["endSocket", W, "socketSE", 1], ["startPlug", j, "plugSE", 0], ["endPlug", j, "plugSE", 1]].forEach(function(e2) {
        var a2 = e2[0], i2 = e2[1], o2 = e2[2], l2 = e2[3];
        Object.defineProperty(lt.prototype, a2, { get: function() {
          var t2, n2 = null != l2 ? ge[this._id].options[o2][l2] : o2 ? ge[this._id].options[o2] : ge[this._id].options[a2];
          return n2 ? Object.keys(i2).some(function(e3) {
            return i2[e3] === n2 && (t2 = e3, true);
          }) ? t2 : new Error("It's broken") : U;
        }, set: rt(a2), enumerable: true });
      }), Object.keys(te).forEach(function(n2) {
        var a2 = te[n2];
        Object.defineProperty(lt.prototype, n2, { get: function() {
          var u2, e2, t2 = ge[this._id].options[n2];
          return fe(t2) ? (u2 = t2, e2 = a2.optionsConf.reduce(function(e3, t3) {
            var n3, a3 = t3[0], i2 = t3[1], o2 = t3[2], l2 = t3[3], r2 = t3[4], s2 = null != r2 ? u2[l2][r2] : l2 ? u2[l2] : u2[i2];
            return e3[i2] = "id" === a3 ? s2 ? Object.keys(o2).some(function(e4) {
              return o2[e4] === s2 && (n3 = e4, true);
            }) ? n3 : new Error("It's broken") : U : null == s2 ? U : Oe(s2), e3;
          }, {}), a2.anim && (e2.animation = Oe(u2.animation)), e2) : t2;
        }, set: rt(n2), enumerable: true });
      }), ["startLabel", "endLabel", "middleLabel"].forEach(function(e2, n2) {
        Object.defineProperty(lt.prototype, e2, { get: function() {
          var e3 = ge[this._id], t2 = e3.options;
          return t2.labelSEM[n2] && !e3.optionIsAttach.labelSEM[n2] ? ve[t2.labelSEM[n2]._id].text : t2.labelSEM[n2] || "";
        }, set: rt(e2), enumerable: true });
      }), lt.prototype.setOptions = function(e2) {
        return ot(ge[this._id], e2), this;
      }, lt.prototype.position = function() {
        return et(ge[this._id], { position: true }), this;
      }, lt.prototype.remove = function() {
        var t2 = ge[this._id], n2 = t2.curStats;
        Object.keys(te).forEach(function(e2) {
          var t3 = e2 + "_animId";
          n2[t3] && g.remove(n2[t3]);
        }), n2.show_animId && g.remove(n2.show_animId), t2.attachments.slice().forEach(function(e2) {
          it(t2, e2);
        }), t2.baseWindow && t2.svg && t2.baseWindow.document.body.removeChild(t2.svg), delete ge[this._id];
      }, lt.prototype.show = function(e2, t2) {
        return nt(ge[this._id], true, e2, t2), this;
      }, lt.prototype.hide = function(e2, t2) {
        return nt(ge[this._id], false, e2, t2), this;
      }, o = function(t2) {
        t2 && ve[t2._id] && (t2.boundTargets.slice().forEach(function(e2) {
          it(e2.props, t2, true);
        }), t2.conf.remove && t2.conf.remove(t2), delete ve[t2._id]);
      }, st.prototype.remove = function() {
        var t2 = this, n2 = ve[t2._id];
        n2 && (n2.boundTargets.slice().forEach(function(e2) {
          n2.conf.removeOption(n2, e2);
        }), je(function() {
          var e2 = ve[t2._id];
          e2 && (console.error("LeaderLineAttachment was not removed by removeOption"), o(e2));
        }));
      }, C = st, window.LeaderLineAttachment = C, L = function(e2, t2) {
        return e2 instanceof C && (!(e2.isRemoved || t2 && ve[e2._id].conf.type !== t2) || null);
      }, I = { pointAnchor: { type: "anchor", argOptions: [{ optionName: "element", type: Ie }], init: function(e2, t2) {
        return e2.element = I.pointAnchor.checkElement(t2.element), e2.x = I.pointAnchor.parsePercent(t2.x, true) || [0.5, true], e2.y = I.pointAnchor.parsePercent(t2.y, true) || [0.5, true], true;
      }, removeOption: function(e2, t2) {
        var n2 = t2.props, a2 = {}, i2 = e2.element, o2 = n2.options.anchorSE["start" === t2.optionName ? 1 : 0];
        i2 === o2 && (i2 = o2 === document.body ? new C(I.pointAnchor, [i2]) : document.body), a2[t2.optionName] = i2, ot(n2, a2);
      }, getBBoxNest: function(e2, t2) {
        var n2 = Ae(e2.element, t2.baseWindow), a2 = n2.width, i2 = n2.height;
        return n2.width = n2.height = 0, n2.left = n2.right = n2.left + e2.x[0] * (e2.x[1] ? a2 : 1), n2.top = n2.bottom = n2.top + e2.y[0] * (e2.y[1] ? i2 : 1), n2;
      }, parsePercent: function(e2, t2) {
        var n2, a2, i2 = false;
        return ye(e2) ? a2 = e2 : "string" == typeof e2 && (n2 = m.exec(e2)) && n2[2] && (i2 = 0 !== (a2 = parseFloat(n2[1]) / 100)), null != a2 && (t2 || 0 <= a2) ? [a2, i2] : null;
      }, checkElement: function(e2) {
        if (null == e2)
          e2 = document.body;
        else if (!Ie(e2))
          throw new Error("`element` must be Element");
        return e2;
      } }, areaAnchor: { type: "anchor", argOptions: [{ optionName: "element", type: Ie }, { optionName: "shape", type: "string" }], stats: { color: {}, strokeWidth: {}, elementWidth: {}, elementHeight: {}, elementLeft: {}, elementTop: {}, pathListRel: {}, bBoxRel: {}, pathData: {}, viewBoxBBox: { hasProps: true }, dashLen: {}, dashGap: {} }, init: function(i2, e2) {
        var t2, n2, a2, o2 = [];
        return i2.element = I.pointAnchor.checkElement(e2.element), "string" == typeof e2.color && (i2.color = e2.color.trim()), "string" == typeof e2.fillColor && (i2.fill = e2.fillColor.trim()), ye(e2.size) && 0 <= e2.size && (i2.size = e2.size), e2.dash && (i2.dash = true, ye(e2.dash.len) && 0 < e2.dash.len && (i2.dashLen = e2.dash.len), ye(e2.dash.gap) && 0 < e2.dash.gap && (i2.dashGap = e2.dash.gap)), "circle" === e2.shape ? i2.shape = e2.shape : "polygon" === e2.shape && Array.isArray(e2.points) && 3 <= e2.points.length && e2.points.every(function(e3) {
          var t3 = {};
          return !(!(t3.x = I.pointAnchor.parsePercent(e3[0], true)) || !(t3.y = I.pointAnchor.parsePercent(e3[1], true))) && (o2.push(t3), (t3.x[1] || t3.y[1]) && (i2.hasRatio = true), true);
        }) ? (i2.shape = e2.shape, i2.points = o2) : (i2.shape = "rect", i2.radius = ye(e2.radius) && 0 <= e2.radius ? e2.radius : 0), "rect" !== i2.shape && "circle" !== i2.shape || (i2.x = I.pointAnchor.parsePercent(e2.x, true) || [-0.05, true], i2.y = I.pointAnchor.parsePercent(e2.y, true) || [-0.05, true], i2.width = I.pointAnchor.parsePercent(e2.width) || [1.1, true], i2.height = I.pointAnchor.parsePercent(e2.height) || [1.1, true], (i2.x[1] || i2.y[1] || i2.width[1] || i2.height[1]) && (i2.hasRatio = true)), t2 = i2.element.ownerDocument, i2.svg = n2 = t2.createElementNS(re, "svg"), n2.className.baseVal = A + "-areaAnchor", n2.viewBox.baseVal || n2.setAttribute("viewBox", "0 0 0 0"), i2.path = n2.appendChild(t2.createElementNS(re, "path")), i2.path.style.fill = i2.fill || "none", i2.isShown = false, n2.style.visibility = "hidden", t2.body.appendChild(n2), Ke(a2 = t2.defaultView), i2.bodyOffset = Qe(a2), i2.updateColor = function() {
          var e3, t3 = i2.curStats, n3 = i2.aplStats, a3 = i2.boundTargets.length ? i2.boundTargets[0].props.curStats : null;
          t3.color = e3 = i2.color || (a3 ? a3.line_color : de.lineColor), qe(i2, n3, "color", e3) && (i2.path.style.stroke = e3);
        }, i2.updateShow = function() {
          $e(i2, i2.boundTargets.some(function(e3) {
            return true === e3.props.isShown;
          }));
        }, true;
      }, bind: function(e2, t2) {
        var n2 = t2.props;
        return e2.color || De(n2, "cur_line_color", e2.updateColor), De(n2, "svgShow", e2.updateShow), je(function() {
          e2.updateColor(), e2.updateShow();
        }), true;
      }, unbind: function(e2, t2) {
        var n2 = t2.props;
        e2.color || ze(n2, "cur_line_color", e2.updateColor), ze(n2, "svgShow", e2.updateShow), 1 < e2.boundTargets.length && je(function() {
          e2.updateColor(), e2.updateShow(), I.areaAnchor.update(e2) && e2.boundTargets.forEach(function(e3) {
            et(e3.props, { position: true });
          });
        });
      }, removeOption: function(e2, t2) {
        I.pointAnchor.removeOption(e2, t2);
      }, remove: function(t2) {
        t2.boundTargets.length && (console.error("LeaderLineAttachment was not unbound by remove"), t2.boundTargets.forEach(function(e2) {
          I.areaAnchor.unbind(t2, e2);
        })), t2.svg.parentNode.removeChild(t2.svg);
      }, getStrokeWidth: function(e2, t2) {
        return I.areaAnchor.update(e2) && 1 < e2.boundTargets.length && je(function() {
          e2.boundTargets.forEach(function(e3) {
            e3.props !== t2 && et(e3.props, { position: true });
          });
        }), e2.curStats.strokeWidth;
      }, getPathData: function(e2, t2) {
        var n2 = Ae(e2.element, t2.baseWindow);
        return Re(e2.curStats.pathListRel, function(e3) {
          e3.x += n2.left, e3.y += n2.top;
        });
      }, getBBoxNest: function(e2, t2) {
        var n2 = Ae(e2.element, t2.baseWindow), a2 = e2.curStats.bBoxRel;
        return { left: a2.left + n2.left, top: a2.top + n2.top, right: a2.right + n2.left, bottom: a2.bottom + n2.top, width: a2.width, height: a2.height };
      }, update: function(t2) {
        var a2, n2, i2, o2, e2, l2, r2, s2, u2, h2, p2, c2, d2, f2, y2, m2, S2, g2, _2, v2, E2, x2, b2, k2, w2, O2, M2, I2, C2, L2, A2, V2, P2 = t2.curStats, N2 = t2.aplStats, T2 = t2.boundTargets.length ? t2.boundTargets[0].props.curStats : null, W2 = {};
        if (W2.strokeWidth = qe(t2, P2, "strokeWidth", null != t2.size ? t2.size : T2 ? T2.line_strokeWidth : de.lineSize), a2 = Ce(t2.element), W2.elementWidth = qe(t2, P2, "elementWidth", a2.width), W2.elementHeight = qe(t2, P2, "elementHeight", a2.height), W2.elementLeft = qe(t2, P2, "elementLeft", a2.left), W2.elementTop = qe(t2, P2, "elementTop", a2.top), W2.strokeWidth || t2.hasRatio && (W2.elementWidth || W2.elementHeight)) {
          switch (t2.shape) {
            case "rect":
              (I2 = { left: t2.x[0] * (t2.x[1] ? a2.width : 1), top: t2.y[0] * (t2.y[1] ? a2.height : 1), width: t2.width[0] * (t2.width[1] ? a2.width : 1), height: t2.height[0] * (t2.height[1] ? a2.height : 1) }).right = I2.left + I2.width, I2.bottom = I2.top + I2.height, b2 = P2.strokeWidth / 2, E2 = (x2 = Math.min(I2.width, I2.height)) ? x2 / 2 * Math.SQRT2 + b2 : 0, O2 = (v2 = t2.radius ? t2.radius <= E2 ? t2.radius : E2 : 0) ? (w2 = v2 - (k2 = (v2 - b2) / Math.SQRT2), M2 = v2 * ee, O2 = [{ x: I2.left - w2, y: I2.top + k2 }, { x: I2.left + k2, y: I2.top - w2 }, { x: I2.right - k2, y: I2.top - w2 }, { x: I2.right + w2, y: I2.top + k2 }, { x: I2.right + w2, y: I2.bottom - k2 }, { x: I2.right - k2, y: I2.bottom + w2 }, { x: I2.left + k2, y: I2.bottom + w2 }, { x: I2.left - w2, y: I2.bottom - k2 }], P2.pathListRel = [[O2[0], { x: O2[0].x, y: O2[0].y - M2 }, { x: O2[1].x - M2, y: O2[1].y }, O2[1]]], O2[1].x !== O2[2].x && P2.pathListRel.push([O2[1], O2[2]]), P2.pathListRel.push([O2[2], { x: O2[2].x + M2, y: O2[2].y }, { x: O2[3].x, y: O2[3].y - M2 }, O2[3]]), O2[3].y !== O2[4].y && P2.pathListRel.push([O2[3], O2[4]]), P2.pathListRel.push([O2[4], { x: O2[4].x, y: O2[4].y + M2 }, { x: O2[5].x + M2, y: O2[5].y }, O2[5]]), O2[5].x !== O2[6].x && P2.pathListRel.push([O2[5], O2[6]]), P2.pathListRel.push([O2[6], { x: O2[6].x - M2, y: O2[6].y }, { x: O2[7].x, y: O2[7].y + M2 }, O2[7]]), O2[7].y !== O2[0].y && P2.pathListRel.push([O2[7], O2[0]]), P2.pathListRel.push([]), w2 = v2 - k2 + P2.strokeWidth / 2, [{ x: I2.left - w2, y: I2.top - w2 }, { x: I2.right + w2, y: I2.bottom + w2 }]) : (w2 = P2.strokeWidth / 2, O2 = [{ x: I2.left - w2, y: I2.top - w2 }, { x: I2.right + w2, y: I2.bottom + w2 }], P2.pathListRel = [[O2[0], { x: O2[1].x, y: O2[0].y }], [{ x: O2[1].x, y: O2[0].y }, O2[1]], [O2[1], { x: O2[0].x, y: O2[1].y }], []], [{ x: I2.left - P2.strokeWidth, y: I2.top - P2.strokeWidth }, { x: I2.right + P2.strokeWidth, y: I2.bottom + P2.strokeWidth }]), P2.bBoxRel = { left: O2[0].x, top: O2[0].y, right: O2[1].x, bottom: O2[1].y, width: O2[1].x - O2[0].x, height: O2[1].y - O2[0].y };
              break;
            case "circle":
              (_2 = { left: t2.x[0] * (t2.x[1] ? a2.width : 1), top: t2.y[0] * (t2.y[1] ? a2.height : 1), width: t2.width[0] * (t2.width[1] ? a2.width : 1), height: t2.height[0] * (t2.height[1] ? a2.height : 1) }).width || _2.height || (_2.width = _2.height = 10), _2.width || (_2.width = _2.height), _2.height || (_2.height = _2.width), _2.right = _2.left + _2.width, _2.bottom = _2.top + _2.height, r2 = _2.left + _2.width / 2, s2 = _2.top + _2.height / 2, d2 = P2.strokeWidth / 2, f2 = _2.width / 2, y2 = _2.height / 2, u2 = f2 * Math.SQRT2 + d2, h2 = y2 * Math.SQRT2 + d2, p2 = u2 * ee, c2 = h2 * ee, g2 = [{ x: r2 - u2, y: s2 }, { x: r2, y: s2 - h2 }, { x: r2 + u2, y: s2 }, { x: r2, y: s2 + h2 }], P2.pathListRel = [[g2[0], { x: g2[0].x, y: g2[0].y - c2 }, { x: g2[1].x - p2, y: g2[1].y }, g2[1]], [g2[1], { x: g2[1].x + p2, y: g2[1].y }, { x: g2[2].x, y: g2[2].y - c2 }, g2[2]], [g2[2], { x: g2[2].x, y: g2[2].y + c2 }, { x: g2[3].x + p2, y: g2[3].y }, g2[3]], [g2[3], { x: g2[3].x - p2, y: g2[3].y }, { x: g2[0].x, y: g2[0].y + c2 }, g2[0]], []], m2 = u2 - f2 + P2.strokeWidth / 2, S2 = h2 - y2 + P2.strokeWidth / 2, g2 = [{ x: _2.left - m2, y: _2.top - S2 }, { x: _2.right + m2, y: _2.bottom + S2 }], P2.bBoxRel = { left: g2[0].x, top: g2[0].y, right: g2[1].x, bottom: g2[1].y, width: g2[1].x - g2[0].x, height: g2[1].y - g2[0].y };
              break;
            case "polygon":
              t2.points.forEach(function(e3) {
                var t3 = e3.x[0] * (e3.x[1] ? a2.width : 1), n3 = e3.y[0] * (e3.y[1] ? a2.height : 1);
                i2 ? (t3 < i2.left && (i2.left = t3), t3 > i2.right && (i2.right = t3), n3 < i2.top && (i2.top = n3), n3 > i2.bottom && (i2.bottom = n3)) : i2 = { left: t3, right: t3, top: n3, bottom: n3 }, o2 ? P2.pathListRel.push([o2, { x: t3, y: n3 }]) : P2.pathListRel = [], o2 = { x: t3, y: n3 };
              }), P2.pathListRel.push([]), e2 = P2.strokeWidth / 2, l2 = [{ x: i2.left - e2, y: i2.top - e2 }, { x: i2.right + e2, y: i2.bottom + e2 }], P2.bBoxRel = { left: l2[0].x, top: l2[0].y, right: l2[1].x, bottom: l2[1].y, width: l2[1].x - l2[0].x, height: l2[1].y - l2[0].y };
          }
          W2.pathListRel = W2.bBoxRel = true;
        }
        return (W2.pathListRel || W2.elementLeft || W2.elementTop) && (P2.pathData = Re(P2.pathListRel, function(e3) {
          e3.x += a2.left, e3.y += a2.top;
        })), qe(t2, N2, "strokeWidth", n2 = P2.strokeWidth) && (t2.path.style.strokeWidth = n2 + "px"), Ge(n2 = P2.pathData, N2.pathData) && (t2.path.setPathData(n2), N2.pathData = n2, W2.pathData = true), t2.dash && (!W2.pathData && (!W2.strokeWidth || t2.dashLen && t2.dashGap) || (P2.dashLen = t2.dashLen || 2 * P2.strokeWidth, P2.dashGap = t2.dashGap || P2.strokeWidth), W2.dash = qe(t2, N2, "dashLen", P2.dashLen) || W2.dash, W2.dash = qe(t2, N2, "dashGap", P2.dashGap) || W2.dash, W2.dash && (t2.path.style.strokeDasharray = N2.dashLen + "," + N2.dashGap)), C2 = P2.viewBoxBBox, L2 = N2.viewBoxBBox, A2 = t2.svg.viewBox.baseVal, V2 = t2.svg.style, C2.x = P2.bBoxRel.left + a2.left, C2.y = P2.bBoxRel.top + a2.top, C2.width = P2.bBoxRel.width, C2.height = P2.bBoxRel.height, ["x", "y", "width", "height"].forEach(function(e3) {
          (n2 = C2[e3]) !== L2[e3] && (A2[e3] = L2[e3] = n2, V2[oe[e3]] = n2 + ("x" === e3 || "y" === e3 ? t2.bodyOffset[e3] : 0) + "px");
        }), W2.strokeWidth || W2.pathListRel || W2.bBoxRel;
      } }, mouseHoverAnchor: { type: "anchor", argOptions: [{ optionName: "element", type: Ie }, { optionName: "showEffectName", type: "string" }], style: { backgroundImage: "url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')", backgroundSize: "", backgroundRepeat: "no-repeat", backgroundColor: "#f8f881", cursor: "default" }, hoverStyle: { backgroundImage: "none", backgroundColor: "#fadf8f" }, padding: { top: 1, right: 15, bottom: 1, left: 2 }, minHeight: 15, backgroundPosition: { right: 2, top: 2 }, backgroundSize: { width: 12, height: 12 }, dirKeys: [["top", "Top"], ["right", "Right"], ["bottom", "Bottom"], ["left", "Left"]], init: function(a2, i2) {
        var o2, t2, e2, n2, l2, r2, s2, u2, h2, p2, c2, d2 = I.mouseHoverAnchor, f2 = {};
        if (a2.element = I.pointAnchor.checkElement(i2.element), u2 = a2.element, !((p2 = u2.ownerDocument) && (h2 = p2.defaultView) && h2.HTMLElement && u2 instanceof h2.HTMLElement))
          throw new Error("`element` must be HTML element");
        return d2.style.backgroundSize = d2.backgroundSize.width + "px " + d2.backgroundSize.height + "px", ["style", "hoverStyle"].forEach(function(e3) {
          var n3 = d2[e3];
          a2[e3] = Object.keys(n3).reduce(function(e4, t3) {
            return e4[t3] = n3[t3], e4;
          }, {});
        }), "inline" === (o2 = a2.element.ownerDocument.defaultView.getComputedStyle(a2.element, "")).display ? a2.style.display = "inline-block" : "none" === o2.display && (a2.style.display = "block"), I.mouseHoverAnchor.dirKeys.forEach(function(e3) {
          var t3 = e3[0], n3 = "padding" + e3[1];
          parseFloat(o2[n3]) < d2.padding[t3] && (a2.style[n3] = d2.padding[t3] + "px");
        }), a2.style.display && (n2 = a2.element.style.display, a2.element.style.display = a2.style.display), I.mouseHoverAnchor.dirKeys.forEach(function(e3) {
          var t3 = "padding" + e3[1];
          a2.style[t3] && (f2[t3] = a2.element.style[t3], a2.element.style[t3] = a2.style[t3]);
        }), (e2 = a2.element.getBoundingClientRect()).height < d2.minHeight && (se ? (c2 = d2.minHeight, "content-box" === o2.boxSizing ? c2 -= parseFloat(o2.borderTopWidth) + parseFloat(o2.borderBottomWidth) + parseFloat(o2.paddingTop) + parseFloat(o2.paddingBottom) : "padding-box" === o2.boxSizing && (c2 -= parseFloat(o2.borderTopWidth) + parseFloat(o2.borderBottomWidth)), a2.style.height = c2 + "px") : a2.style.height = parseFloat(o2.height) + (d2.minHeight - e2.height) + "px"), a2.style.backgroundPosition = pe ? e2.width - d2.backgroundSize.width - d2.backgroundPosition.right + "px " + d2.backgroundPosition.top + "px" : "right " + d2.backgroundPosition.right + "px top " + d2.backgroundPosition.top + "px", a2.style.display && (a2.element.style.display = n2), I.mouseHoverAnchor.dirKeys.forEach(function(e3) {
          var t3 = "padding" + e3[1];
          a2.style[t3] && (a2.element.style[t3] = f2[t3]);
        }), ["style", "hoverStyle"].forEach(function(e3) {
          var t3 = a2[e3], n3 = i2[e3];
          fe(n3) && Object.keys(n3).forEach(function(e4) {
            "string" == typeof n3[e4] || ye(n3[e4]) ? t3[e4] = n3[e4] : null == n3[e4] && delete t3[e4];
          });
        }), "function" == typeof i2.onSwitch && (s2 = i2.onSwitch), i2.showEffectName && M[i2.showEffectName] && (a2.showEffectName = l2 = i2.showEffectName), r2 = i2.animOptions, a2.elmStyle = t2 = a2.element.style, a2.mouseenter = function(e3) {
          a2.hoverStyleSave = d2.getStyles(t2, Object.keys(a2.hoverStyle)), d2.setStyles(t2, a2.hoverStyle), a2.boundTargets.forEach(function(e4) {
            nt(e4.props, true, l2, r2);
          }), s2 && s2(e3);
        }, a2.mouseleave = function(e3) {
          d2.setStyles(t2, a2.hoverStyleSave), a2.boundTargets.forEach(function(e4) {
            nt(e4.props, false, l2, r2);
          }), s2 && s2(e3);
        }, true;
      }, bind: function(e2, t2) {
        var n2, a2, i2, o2, l2;
        return t2.props.svg ? I.mouseHoverAnchor.llShow(t2.props, false, e2.showEffectName) : je(function() {
          I.mouseHoverAnchor.llShow(t2.props, false, e2.showEffectName);
        }), e2.enabled || (e2.styleSave = I.mouseHoverAnchor.getStyles(e2.elmStyle, Object.keys(e2.style)), I.mouseHoverAnchor.setStyles(e2.elmStyle, e2.style), e2.removeEventListener = (n2 = e2.element, a2 = e2.mouseenter, i2 = e2.mouseleave, "onmouseenter" in n2 && "onmouseleave" in n2 ? (n2.addEventListener("mouseenter", a2, false), n2.addEventListener("mouseleave", i2, false), function() {
          n2.removeEventListener("mouseenter", a2, false), n2.removeEventListener("mouseleave", i2, false);
        }) : (console.warn("mouseenter and mouseleave events polyfill is enabled."), o2 = function(e3) {
          e3.relatedTarget && (e3.relatedTarget === this || this.compareDocumentPosition(e3.relatedTarget) & Node.DOCUMENT_POSITION_CONTAINED_BY) || a2.apply(this, arguments);
        }, n2.addEventListener("mouseover", o2), l2 = function(e3) {
          e3.relatedTarget && (e3.relatedTarget === this || this.compareDocumentPosition(e3.relatedTarget) & Node.DOCUMENT_POSITION_CONTAINED_BY) || i2.apply(this, arguments);
        }, n2.addEventListener("mouseout", l2), function() {
          n2.removeEventListener("mouseover", o2, false), n2.removeEventListener("mouseout", l2, false);
        })), e2.enabled = true), true;
      }, unbind: function(e2, t2) {
        e2.enabled && e2.boundTargets.length <= 1 && (e2.removeEventListener(), I.mouseHoverAnchor.setStyles(e2.elmStyle, e2.styleSave), e2.enabled = false), I.mouseHoverAnchor.llShow(t2.props, true, e2.showEffectName);
      }, removeOption: function(e2, t2) {
        I.pointAnchor.removeOption(e2, t2);
      }, remove: function(t2) {
        t2.boundTargets.length && (console.error("LeaderLineAttachment was not unbound by remove"), t2.boundTargets.forEach(function(e2) {
          I.mouseHoverAnchor.unbind(t2, e2);
        }));
      }, getBBoxNest: function(e2, t2) {
        return Ae(e2.element, t2.baseWindow);
      }, llShow: function(e2, t2, n2) {
        M[n2 || e2.curStats.show_effect].stop(e2, true, t2), e2.aplStats.show_on = t2;
      }, getStyles: function(n2, e2) {
        return e2.reduce(function(e3, t2) {
          return e3[t2] = n2[t2], e3;
        }, {});
      }, setStyles: function(t2, n2) {
        Object.keys(n2).forEach(function(e2) {
          t2[e2] = n2[e2];
        });
      } }, captionLabel: { type: "label", argOptions: [{ optionName: "text", type: "string" }], stats: { color: {}, x: {}, y: {} }, textStyleProps: ["fontFamily", "fontStyle", "fontVariant", "fontWeight", "fontStretch", "fontSize", "fontSizeAdjust", "kerning", "letterSpacing", "wordSpacing", "textDecoration"], init: function(u2, t2) {
        return "string" == typeof t2.text && (u2.text = t2.text.trim()), !!u2.text && ("string" == typeof t2.color && (u2.color = t2.color.trim()), u2.outlineColor = "string" == typeof t2.outlineColor ? t2.outlineColor.trim() : "#fff", Array.isArray(t2.offset) && ye(t2.offset[0]) && ye(t2.offset[1]) && (u2.offset = { x: t2.offset[0], y: t2.offset[1] }), ye(t2.lineOffset) && (u2.lineOffset = t2.lineOffset), I.captionLabel.textStyleProps.forEach(function(e2) {
          null != t2[e2] && (u2[e2] = t2[e2]);
        }), u2.updateColor = function(e2) {
          I.captionLabel.updateColor(u2, e2);
        }, u2.updateSocketXY = function(e2) {
          var t3, n2, a2, i2, o2 = u2.curStats, l2 = u2.aplStats, r2 = e2.curStats, s2 = r2.position_socketXYSE[u2.socketIndex];
          null != s2.x && (u2.offset ? (o2.x = s2.x + u2.offset.x, o2.y = s2.y + u2.offset.y) : (t3 = u2.height / 2, n2 = Math.max(r2.attach_plugSideLenSE[u2.socketIndex] || 0, r2.line_strokeWidth / 2), a2 = r2.position_socketXYSE[u2.socketIndex ? 0 : 1], s2.socketId === T || s2.socketId === P ? (o2.x = s2.socketId === T ? s2.x - t3 - u2.width : s2.x + t3, o2.y = a2.y < s2.y ? s2.y + n2 + t3 : s2.y - n2 - t3 - u2.height) : (o2.x = a2.x < s2.x ? s2.x + n2 + t3 : s2.x - n2 - t3 - u2.width, o2.y = s2.socketId === V ? s2.y - t3 - u2.height : s2.y + t3)), qe(u2, l2, "x", i2 = o2.x) && (u2.elmPosition.x.baseVal.getItem(0).value = i2), qe(u2, l2, "y", i2 = o2.y) && (u2.elmPosition.y.baseVal.getItem(0).value = i2 + u2.height));
        }, u2.updatePath = function(e2) {
          var t3, n2, a2 = u2.curStats, i2 = u2.aplStats, o2 = e2.pathList.animVal || e2.pathList.baseVal;
          o2 && (t3 = I.captionLabel.getMidPoint(o2, u2.lineOffset), a2.x = t3.x - u2.width / 2, a2.y = t3.y - u2.height / 2, qe(u2, i2, "x", n2 = a2.x) && (u2.elmPosition.x.baseVal.getItem(0).value = n2), qe(u2, i2, "y", n2 = a2.y) && (u2.elmPosition.y.baseVal.getItem(0).value = n2 + u2.height));
        }, u2.updateShow = function(e2) {
          I.captionLabel.updateShow(u2, e2);
        }, pe && (u2.adjustEdge = function(e2, t3) {
          var n2 = u2.curStats;
          null != n2.x && I.captionLabel.adjustEdge(t3, { x: n2.x, y: n2.y, width: u2.width, height: u2.height }, u2.strokeWidth / 2);
        }), true);
      }, updateColor: function(e2, t2) {
        var n2, a2 = e2.curStats, i2 = e2.aplStats, o2 = t2.curStats;
        a2.color = n2 = e2.color || o2.line_color, qe(e2, i2, "color", n2) && (e2.styleFill.fill = n2);
      }, updateShow: function(e2, t2) {
        var n2 = true === t2.isShown;
        n2 !== e2.isShown && (e2.styleShow.visibility = n2 ? "" : "hidden", e2.isShown = n2);
      }, adjustEdge: function(e2, t2, n2) {
        var a2 = { x1: t2.x - n2, y1: t2.y - n2, x2: t2.x + t2.width + n2, y2: t2.y + t2.height + n2 };
        a2.x1 < e2.x1 && (e2.x1 = a2.x1), a2.y1 < e2.y1 && (e2.y1 = a2.y1), a2.x2 > e2.x2 && (e2.x2 = a2.x2), a2.y2 > e2.y2 && (e2.y2 = a2.y2);
      }, newText: function(e2, t2, n2, a2, i2) {
        var o2, l2, r2, s2, u2, h2 = t2.createElementNS(re, "text");
        return h2.textContent = e2, [h2.x, h2.y].forEach(function(e3) {
          var t3 = n2.createSVGLength();
          t3.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, 0), e3.baseVal.initialize(t3);
        }), "boolean" != typeof f && (f = "paintOrder" in h2.style), i2 && !f ? (l2 = t2.createElementNS(re, "defs"), h2.id = a2, l2.appendChild(h2), (s2 = (o2 = t2.createElementNS(re, "g")).appendChild(t2.createElementNS(re, "use"))).href.baseVal = "#" + a2, (r2 = o2.appendChild(t2.createElementNS(re, "use"))).href.baseVal = "#" + a2, (u2 = s2.style).strokeLinejoin = "round", { elmPosition: h2, styleText: h2.style, styleFill: r2.style, styleStroke: u2, styleShow: o2.style, elmsAppend: [l2, o2] }) : (u2 = h2.style, i2 && (u2.strokeLinejoin = "round", u2.paintOrder = "stroke"), { elmPosition: h2, styleText: u2, styleFill: u2, styleStroke: i2 ? u2 : null, styleShow: u2, elmsAppend: [h2] });
      }, getMidPoint: function(e2, t2) {
        var n2, a2, i2 = Fe(e2), o2 = i2.segsLen, l2 = i2.lenAll, r2 = -1, s2 = l2 / 2 + (t2 || 0);
        if (s2 <= 0)
          return 2 === (n2 = e2[0]).length ? Pe(n2[0], n2[1], 0) : Te(n2[0], n2[1], n2[2], n2[3], 0);
        if (l2 <= s2)
          return 2 === (n2 = e2[e2.length - 1]).length ? Pe(n2[0], n2[1], 1) : Te(n2[0], n2[1], n2[2], n2[3], 1);
        for (a2 = []; s2 > o2[++r2]; )
          a2.push(e2[r2]), s2 -= o2[r2];
        return 2 === (n2 = e2[r2]).length ? Pe(n2[0], n2[1], s2 / o2[r2]) : Te(n2[0], n2[1], n2[2], n2[3], Be(n2[0], n2[1], n2[2], n2[3], s2));
      }, initSvg: function(t2, n2) {
        var e2, a2, i2 = I.captionLabel.newText(t2.text, n2.baseWindow.document, n2.svg, A + "-captionLabel-" + t2._id, t2.outlineColor);
        ["elmPosition", "styleFill", "styleShow", "elmsAppend"].forEach(function(e3) {
          t2[e3] = i2[e3];
        }), t2.isShown = false, t2.styleShow.visibility = "hidden", I.captionLabel.textStyleProps.forEach(function(e3) {
          null != t2[e3] && (i2.styleText[e3] = t2[e3]);
        }), i2.elmsAppend.forEach(function(e3) {
          n2.svg.appendChild(e3);
        }), e2 = i2.elmPosition.getBBox(), t2.width = e2.width, t2.height = e2.height, t2.outlineColor && (a2 = 10 < (a2 = e2.height / 9) ? 10 : a2 < 2 ? 2 : a2, i2.styleStroke.strokeWidth = a2 + "px", i2.styleStroke.stroke = t2.outlineColor), t2.strokeWidth = a2 || 0, Xe(t2.aplStats, I.captionLabel.stats), t2.updateColor(n2), t2.refSocketXY ? t2.updateSocketXY(n2) : t2.updatePath(n2), pe && et(n2, {}), t2.updateShow(n2);
      }, bind: function(e2, t2) {
        var n2 = t2.props;
        return e2.color || De(n2, "cur_line_color", e2.updateColor), (e2.refSocketXY = "startLabel" === t2.optionName || "endLabel" === t2.optionName) ? (e2.socketIndex = "startLabel" === t2.optionName ? 0 : 1, De(n2, "apl_position", e2.updateSocketXY), e2.offset || (De(n2, "cur_attach_plugSideLenSE", e2.updateSocketXY), De(n2, "cur_line_strokeWidth", e2.updateSocketXY))) : De(n2, "apl_path", e2.updatePath), De(n2, "svgShow", e2.updateShow), pe && De(n2, "new_edge4viewBox", e2.adjustEdge), I.captionLabel.initSvg(e2, n2), true;
      }, unbind: function(e2, t2) {
        var n2 = t2.props;
        e2.elmsAppend && (e2.elmsAppend.forEach(function(e3) {
          n2.svg.removeChild(e3);
        }), e2.elmPosition = e2.styleFill = e2.styleShow = e2.elmsAppend = null), Xe(e2.curStats, I.captionLabel.stats), Xe(e2.aplStats, I.captionLabel.stats), e2.color || ze(n2, "cur_line_color", e2.updateColor), e2.refSocketXY ? (ze(n2, "apl_position", e2.updateSocketXY), e2.offset || (ze(n2, "cur_attach_plugSideLenSE", e2.updateSocketXY), ze(n2, "cur_line_strokeWidth", e2.updateSocketXY))) : ze(n2, "apl_path", e2.updatePath), ze(n2, "svgShow", e2.updateShow), pe && (ze(n2, "new_edge4viewBox", e2.adjustEdge), et(n2, {}));
      }, removeOption: function(e2, t2) {
        var n2 = t2.props, a2 = {};
        a2[t2.optionName] = "", ot(n2, a2);
      }, remove: function(t2) {
        t2.boundTargets.length && (console.error("LeaderLineAttachment was not unbound by remove"), t2.boundTargets.forEach(function(e2) {
          I.captionLabel.unbind(t2, e2);
        }));
      } }, pathLabel: { type: "label", argOptions: [{ optionName: "text", type: "string" }], stats: { color: {}, startOffset: {}, pathData: {} }, init: function(s2, t2) {
        return "string" == typeof t2.text && (s2.text = t2.text.trim()), !!s2.text && ("string" == typeof t2.color && (s2.color = t2.color.trim()), s2.outlineColor = "string" == typeof t2.outlineColor ? t2.outlineColor.trim() : "#fff", ye(t2.lineOffset) && (s2.lineOffset = t2.lineOffset), I.captionLabel.textStyleProps.forEach(function(e2) {
          null != t2[e2] && (s2[e2] = t2[e2]);
        }), s2.updateColor = function(e2) {
          I.captionLabel.updateColor(s2, e2);
        }, s2.updatePath = function(e2) {
          var t3, n2 = s2.curStats, a2 = s2.aplStats, i2 = e2.curStats, o2 = e2.pathList.animVal || e2.pathList.baseVal;
          o2 && (n2.pathData = t3 = I.pathLabel.getOffsetPathData(o2, i2.line_strokeWidth / 2 + s2.strokeWidth / 2 + s2.height / 4, 1.25 * s2.height), Ge(t3, a2.pathData) && (s2.elmPath.setPathData(t3), a2.pathData = t3, s2.bBox = s2.elmPosition.getBBox(), s2.updateStartOffset(e2)));
        }, s2.updateStartOffset = function(e2) {
          var t3, i2, n2, a2, o2 = s2.curStats, l2 = s2.aplStats, r2 = e2.curStats;
          o2.pathData && (2 === s2.semIndex && !s2.lineOffset || (n2 = o2.pathData.reduce(function(e3, t4) {
            var n3, a3 = t4.values;
            switch (t4.type) {
              case "M":
                i2 = { x: a3[0], y: a3[1] };
                break;
              case "L":
                n3 = { x: a3[0], y: a3[1] }, i2 && (e3 += Ve(i2, n3)), i2 = n3;
                break;
              case "C":
                n3 = { x: a3[4], y: a3[5] }, i2 && (e3 += We(i2, { x: a3[0], y: a3[1] }, { x: a3[2], y: a3[3] }, n3)), i2 = n3;
            }
            return e3;
          }, 0), a2 = 0 === s2.semIndex ? 0 : 1 === s2.semIndex ? n2 : n2 / 2, 2 !== s2.semIndex && (t3 = Math.max(r2.attach_plugBackLenSE[s2.semIndex] || 0, r2.line_strokeWidth / 2) + s2.strokeWidth / 2 + s2.height / 4, a2 = (a2 += 0 === s2.semIndex ? t3 : -t3) < 0 ? 0 : n2 < a2 ? n2 : a2), s2.lineOffset && (a2 = (a2 += s2.lineOffset) < 0 ? 0 : n2 < a2 ? n2 : a2), o2.startOffset = a2, qe(s2, l2, "startOffset", a2) && (s2.elmOffset.startOffset.baseVal.value = a2)));
        }, s2.updateShow = function(e2) {
          I.captionLabel.updateShow(s2, e2);
        }, pe && (s2.adjustEdge = function(e2, t3) {
          s2.bBox && I.captionLabel.adjustEdge(t3, s2.bBox, s2.strokeWidth / 2);
        }), true);
      }, getOffsetPathData: function(e2, x2, n2) {
        var b2, a2, k2 = [];
        function w2(e3, t2) {
          return Math.abs(e3.x - t2.x) < 3 && Math.abs(e3.y - t2.y) < 3;
        }
        return e2.forEach(function(e3) {
          var t2, n3, a3, i2, o2, l2, r2, s2, u2, h2, p2, c2, d2, f2, y2, m2, S2, g2, _2, v2, E2;
          2 === e3.length ? (g2 = e3[0], _2 = e3[1], v2 = x2, E2 = Math.atan2(g2.y - _2.y, _2.x - g2.x) + 0.5 * Math.PI, t2 = [{ x: g2.x + Math.cos(E2) * v2, y: g2.y + Math.sin(E2) * v2 * -1 }, { x: _2.x + Math.cos(E2) * v2, y: _2.y + Math.sin(E2) * v2 * -1 }], b2 ? (a3 = b2.points, 0 <= (i2 = Math.atan2(a3[1].y - a3[0].y, a3[0].x - a3[1].x) - Math.atan2(e3[0].y - e3[1].y, e3[1].x - e3[0].x)) && i2 <= Math.PI ? n3 = { type: "line", points: t2, inside: true } : (l2 = Ne(a3[0], a3[1], x2), o2 = Ne(t2[1], t2[0], x2), s2 = a3[0], h2 = o2, p2 = t2[1], c2 = (u2 = l2).x - s2.x, d2 = u2.y - s2.y, f2 = p2.x - h2.x, y2 = p2.y - h2.y, m2 = (-d2 * (s2.x - h2.x) + c2 * (s2.y - h2.y)) / (-f2 * d2 + c2 * y2), S2 = (f2 * (s2.y - h2.y) - y2 * (s2.x - h2.x)) / (-f2 * d2 + c2 * y2), n3 = (r2 = 0 <= m2 && m2 <= 1 && 0 <= S2 && S2 <= 1 ? { x: s2.x + S2 * c2, y: s2.y + S2 * d2 } : null) ? { type: "line", points: [a3[1] = r2, t2[1]] } : (a3[1] = w2(o2, l2) ? o2 : l2, { type: "line", points: [o2, t2[1]] }), b2.len = Ve(a3[0], a3[1]))) : n3 = { type: "line", points: t2 }, n3.len = Ve(n3.points[0], n3.points[1]), k2.push(b2 = n3)) : (k2.push({ type: "cubic", points: function(e4, t3, n4, a4, i3, o3) {
            for (var l3, r3, s3 = We(e4, t3, n4, a4) / o3, u3 = 1 / (o3 < i3 ? i3 / o3 * s3 : s3), h3 = [], p3 = 0; r3 = (90 - (l3 = Te(e4, t3, n4, a4, p3)).angle) * (Math.PI / 180), h3.push({ x: l3.x + Math.cos(r3) * i3, y: l3.y + Math.sin(r3) * i3 * -1 }), !(1 <= p3); )
              1 < (p3 += u3) && (p3 = 1);
            return h3;
          }(e3[0], e3[1], e3[2], e3[3], x2, 16) }), b2 = null);
        }), b2 = null, k2.forEach(function(e3) {
          var t2;
          b2 = "line" === e3.type ? (e3.inside && (b2.len > x2 ? ((t2 = b2.points)[1] = Ne(t2[0], t2[1], -x2), b2.len = Ve(t2[0], t2[1])) : (b2.points = null, b2.len = 0), e3.len > x2 + n2 ? ((t2 = e3.points)[0] = Ne(t2[1], t2[0], -(x2 + n2)), e3.len = Ve(t2[0], t2[1])) : (e3.points = null, e3.len = 0)), e3) : null;
        }), k2.reduce(function(t2, e3) {
          var n3 = e3.points;
          return n3 && (a2 && w2(n3[0], a2) || t2.push({ type: "M", values: [n3[0].x, n3[0].y] }), "line" === e3.type ? t2.push({ type: "L", values: [n3[1].x, n3[1].y] }) : (n3.shift(), n3.forEach(function(e4) {
            t2.push({ type: "L", values: [e4.x, e4.y] });
          })), a2 = n3[n3.length - 1]), t2;
        }, []);
      }, newText: function(e2, t2, n2, a2) {
        var i2, o2, l2, r2, s2, u2, h2, p2, c2 = t2.createElementNS(re, "defs"), d2 = c2.appendChild(t2.createElementNS(re, "path"));
        return d2.id = i2 = n2 + "-path", (r2 = (l2 = t2.createElementNS(re, "text")).appendChild(t2.createElementNS(re, "textPath"))).href.baseVal = "#" + i2, r2.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX, 0), r2.textContent = e2, "boolean" != typeof f && (f = "paintOrder" in l2.style), a2 && !f ? (l2.id = o2 = n2 + "-text", c2.appendChild(l2), (h2 = (s2 = t2.createElementNS(re, "g")).appendChild(t2.createElementNS(re, "use"))).href.baseVal = "#" + o2, (u2 = s2.appendChild(t2.createElementNS(re, "use"))).href.baseVal = "#" + o2, (p2 = h2.style).strokeLinejoin = "round", { elmPosition: l2, elmPath: d2, elmOffset: r2, styleText: l2.style, styleFill: u2.style, styleStroke: p2, styleShow: s2.style, elmsAppend: [c2, s2] }) : (p2 = l2.style, a2 && (p2.strokeLinejoin = "round", p2.paintOrder = "stroke"), { elmPosition: l2, elmPath: d2, elmOffset: r2, styleText: p2, styleFill: p2, styleStroke: a2 ? p2 : null, styleShow: p2, elmsAppend: [c2, l2] });
      }, initSvg: function(t2, n2) {
        var e2, a2, i2 = I.pathLabel.newText(t2.text, n2.baseWindow.document, A + "-pathLabel-" + t2._id, t2.outlineColor);
        ["elmPosition", "elmPath", "elmOffset", "styleFill", "styleShow", "elmsAppend"].forEach(function(e3) {
          t2[e3] = i2[e3];
        }), t2.isShown = false, t2.styleShow.visibility = "hidden", I.captionLabel.textStyleProps.forEach(function(e3) {
          null != t2[e3] && (i2.styleText[e3] = t2[e3]);
        }), i2.elmsAppend.forEach(function(e3) {
          n2.svg.appendChild(e3);
        }), i2.elmPath.setPathData([{ type: "M", values: [0, 100] }, { type: "h", values: [100] }]), e2 = i2.elmPosition.getBBox(), i2.styleText.textAnchor = ["start", "end", "middle"][t2.semIndex], 2 !== t2.semIndex || t2.lineOffset || i2.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE, 50), t2.height = e2.height, t2.outlineColor && (a2 = 10 < (a2 = e2.height / 9) ? 10 : a2 < 2 ? 2 : a2, i2.styleStroke.strokeWidth = a2 + "px", i2.styleStroke.stroke = t2.outlineColor), t2.strokeWidth = a2 || 0, Xe(t2.aplStats, I.pathLabel.stats), t2.updateColor(n2), t2.updatePath(n2), t2.updateStartOffset(n2), pe && et(n2, {}), t2.updateShow(n2);
      }, bind: function(e2, t2) {
        var n2 = t2.props;
        return e2.color || De(n2, "cur_line_color", e2.updateColor), De(n2, "cur_line_strokeWidth", e2.updatePath), De(n2, "apl_path", e2.updatePath), e2.semIndex = "startLabel" === t2.optionName ? 0 : "endLabel" === t2.optionName ? 1 : 2, 2 === e2.semIndex && !e2.lineOffset || De(n2, "cur_attach_plugBackLenSE", e2.updateStartOffset), De(n2, "svgShow", e2.updateShow), pe && De(n2, "new_edge4viewBox", e2.adjustEdge), I.pathLabel.initSvg(e2, n2), true;
      }, unbind: function(e2, t2) {
        var n2 = t2.props;
        e2.elmsAppend && (e2.elmsAppend.forEach(function(e3) {
          n2.svg.removeChild(e3);
        }), e2.elmPosition = e2.elmPath = e2.elmOffset = e2.styleFill = e2.styleShow = e2.elmsAppend = null), Xe(e2.curStats, I.pathLabel.stats), Xe(e2.aplStats, I.pathLabel.stats), e2.color || ze(n2, "cur_line_color", e2.updateColor), ze(n2, "cur_line_strokeWidth", e2.updatePath), ze(n2, "apl_path", e2.updatePath), 2 === e2.semIndex && !e2.lineOffset || ze(n2, "cur_attach_plugBackLenSE", e2.updateStartOffset), ze(n2, "svgShow", e2.updateShow), pe && (ze(n2, "new_edge4viewBox", e2.adjustEdge), et(n2, {}));
      }, removeOption: function(e2, t2) {
        var n2 = t2.props, a2 = {};
        a2[t2.optionName] = "", ot(n2, a2);
      }, remove: function(t2) {
        t2.boundTargets.length && (console.error("LeaderLineAttachment was not unbound by remove"), t2.boundTargets.forEach(function(e2) {
          I.pathLabel.unbind(t2, e2);
        }));
      } } }, Object.keys(I).forEach(function(e2) {
        lt[e2] = function() {
          return new C(I[e2], Array.prototype.slice.call(arguments));
        };
      }), lt.positionByWindowResize = true, window.addEventListener("resize", v.add(function() {
        lt.positionByWindowResize && Object.keys(ge).forEach(function(e2) {
          et(ge[e2], { position: true });
        });
      }), false), lt;
    }();
    !function(e, t) {
      "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e["leader-line"] = t();
    }(exports, function() {
      return LeaderLine;
    });
  }
});
export default require_leader_line_min();
/*! Bundled license information:

leader-line-new/leader-line.min.js:
  (*! LeaderLine v1.1.5 (c) anseki https://anseki.github.io/leader-line/ *)
*/
//# sourceMappingURL=leader-line-new.js.map
